import{d as ba,f as cs,k as Aa,X as wa,w as Xs,o as ta,c as ea,v as I,a4 as Ea,a5 as xa,n as hs,b as Ma,B as Ta,a as Na,O as Oa}from"./chunks/framework.12bd0347.js";const Ys="/logo.png";/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */function qs(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,a)}return n}function oa(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?qs(Object(n),!0).forEach(function(a){Sa(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):qs(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},vs(t)}function Ra(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function Hs(t,s){for(var n=0;n<s.length;n++){var a=s[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _a(t,s,n){return s&&Hs(t.prototype,s),n&&Hs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sa(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function ra(t){return ka(t)||Ia(t)||Ba(t)||La()}function ka(t){if(Array.isArray(t))return Cs(t)}function Ia(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function Ba(t,s){if(t){if(typeof t=="string")return Cs(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return Cs(t,s)}}function Cs(t,s){(s==null||s>t.length)&&(s=t.length);for(var n=0,a=new Array(s);n<s;n++)a[n]=t[n];return a}function La(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var ds=typeof window<"u"&&typeof window.document<"u",P=ds?window:{},Os=ds&&P.document.documentElement?"ontouchstart"in P.document.documentElement:!1,Rs=ds?"PointerEvent"in P:!1,v="cropper",_s="all",la="crop",ia="move",pa="zoom",$="e",G="w",Z="s",H="n",ns="ne",ts="nw",es="se",os="sw",bs="".concat(v,"-crop"),zs="".concat(v,"-disabled"),O="".concat(v,"-hidden"),Ws="".concat(v,"-hide"),Pa="".concat(v,"-invisible"),us="".concat(v,"-modal"),As="".concat(v,"-move"),ls="".concat(v,"Action"),Ds="".concat(v,"Preview"),Ss="crop",ca="move",ha="none",ws="crop",Es="cropend",xs="cropmove",Ms="cropstart",Us="dblclick",Xa=Os?"touchstart":"mousedown",Ya=Os?"touchmove":"mousemove",qa=Os?"touchend touchcancel":"mouseup",Vs=Rs?"pointerdown":Xa,js=Rs?"pointermove":Ya,$s=Rs?"pointerup pointercancel":qa,Gs="ready",Qs="resize",Zs="wheel",Ts="zoom",Ks="image/jpeg",Ha=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,za=/^data:/,Wa=/^data:image\/jpeg;base64,/,Ua=/^img|canvas$/i,Da=200,ya=100,Js={viewMode:0,dragMode:Ss,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:Da,minContainerHeight:ya,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},Va='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',ja=Number.isNaN||P.isNaN;function u(t){return typeof t=="number"&&!ja(t)}var sa=function(s){return s>0&&s<1/0};function ms(t){return typeof t>"u"}function Q(t){return vs(t)==="object"&&t!==null}var $a=Object.prototype.hasOwnProperty;function K(t){if(!Q(t))return!1;try{var s=t.constructor,n=s.prototype;return s&&n&&$a.call(n,"isPrototypeOf")}catch{return!1}}function N(t){return typeof t=="function"}var Ga=Array.prototype.slice;function ua(t){return Array.from?Array.from(t):Ga.call(t)}function A(t,s){return t&&N(s)&&(Array.isArray(t)||u(t.length)?ua(t).forEach(function(n,a){s.call(t,n,a,t)}):Q(t)&&Object.keys(t).forEach(function(n){s.call(t,t[n],n,t)})),t}var C=Object.assign||function(s){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return Q(s)&&a.length>0&&a.forEach(function(e){Q(e)&&Object.keys(e).forEach(function(r){s[r]=e[r]})}),s},Qa=/\.\d*(?:0|9){12}\d*$/;function ss(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Qa.test(t)?Math.round(t*s)/s:t}var Za=/^width|height|left|top|marginLeft|marginTop$/;function z(t,s){var n=t.style;A(s,function(a,o){Za.test(o)&&u(a)&&(a="".concat(a,"px")),n[o]=a})}function Ka(t,s){return t.classList?t.classList.contains(s):t.className.indexOf(s)>-1}function M(t,s){if(s){if(u(t.length)){A(t,function(a){M(a,s)});return}if(t.classList){t.classList.add(s);return}var n=t.className.trim();n?n.indexOf(s)<0&&(t.className="".concat(n," ").concat(s)):t.className=s}}function L(t,s){if(s){if(u(t.length)){A(t,function(n){L(n,s)});return}if(t.classList){t.classList.remove(s);return}t.className.indexOf(s)>=0&&(t.className=t.className.replace(s,""))}}function J(t,s,n){if(s){if(u(t.length)){A(t,function(a){J(a,s,n)});return}n?M(t,s):L(t,s)}}var Ja=/([a-z\d])([A-Z])/g;function ks(t){return t.replace(Ja,"$1-$2").toLowerCase()}function Ns(t,s){return Q(t[s])?t[s]:t.dataset?t.dataset[s]:t.getAttribute("data-".concat(ks(s)))}function is(t,s,n){Q(n)?t[s]=n:t.dataset?t.dataset[s]=n:t.setAttribute("data-".concat(ks(s)),n)}function sn(t,s){if(Q(t[s]))try{delete t[s]}catch{t[s]=void 0}else if(t.dataset)try{delete t.dataset[s]}catch{t.dataset[s]=void 0}else t.removeAttribute("data-".concat(ks(s)))}var da=/\s\s*/,fa=function(){var t=!1;if(ds){var s=!1,n=function(){},a=Object.defineProperty({},"once",{get:function(){return t=!0,s},set:function(e){s=e}});P.addEventListener("test",n,a),P.removeEventListener("test",n,a)}return t}();function k(t,s,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n;s.trim().split(da).forEach(function(e){if(!fa){var r=t.listeners;r&&r[e]&&r[e][n]&&(o=r[e][n],delete r[e][n],Object.keys(r[e]).length===0&&delete r[e],Object.keys(r).length===0&&delete t.listeners)}t.removeEventListener(e,o,a)})}function S(t,s,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n;s.trim().split(da).forEach(function(e){if(a.once&&!fa){var r=t.listeners,l=r===void 0?{}:r;o=function(){delete l[e][n],t.removeEventListener(e,o,a);for(var c=arguments.length,i=new Array(c),p=0;p<c;p++)i[p]=arguments[p];n.apply(t,i)},l[e]||(l[e]={}),l[e][n]&&t.removeEventListener(e,l[e][n],a),l[e][n]=o,t.listeners=l}t.addEventListener(e,o,a)})}function as(t,s,n){var a;return N(Event)&&N(CustomEvent)?a=new CustomEvent(s,{detail:n,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(s,!0,!0,n)),t.dispatchEvent(a)}function Fa(t){var s=t.getBoundingClientRect();return{left:s.left+(window.pageXOffset-document.documentElement.clientLeft),top:s.top+(window.pageYOffset-document.documentElement.clientTop)}}var gs=P.location,an=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function aa(t){var s=t.match(an);return s!==null&&(s[1]!==gs.protocol||s[2]!==gs.hostname||s[3]!==gs.port)}function na(t){var s="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+s}function rs(t){var s=t.rotate,n=t.scaleX,a=t.scaleY,o=t.translateX,e=t.translateY,r=[];u(o)&&o!==0&&r.push("translateX(".concat(o,"px)")),u(e)&&e!==0&&r.push("translateY(".concat(e,"px)")),u(s)&&s!==0&&r.push("rotate(".concat(s,"deg)")),u(n)&&n!==1&&r.push("scaleX(".concat(n,")")),u(a)&&a!==1&&r.push("scaleY(".concat(a,")"));var l=r.length?r.join(" "):"none";return{WebkitTransform:l,msTransform:l,transform:l}}function nn(t){var s=oa({},t),n=0;return A(t,function(a,o){delete s[o],A(s,function(e){var r=Math.abs(a.startX-e.startX),l=Math.abs(a.startY-e.startY),h=Math.abs(a.endX-e.endX),c=Math.abs(a.endY-e.endY),i=Math.sqrt(r*r+l*l),p=Math.sqrt(h*h+c*c),D=(p-i)/i;Math.abs(D)>Math.abs(n)&&(n=D)})}),n}function ys(t,s){var n=t.pageX,a=t.pageY,o={endX:n,endY:a};return s?o:oa({startX:n,startY:a},o)}function tn(t){var s=0,n=0,a=0;return A(t,function(o){var e=o.startX,r=o.startY;s+=e,n+=r,a+=1}),s/=a,n/=a,{pageX:s,pageY:n}}function W(t){var s=t.aspectRatio,n=t.height,a=t.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",e=sa(a),r=sa(n);if(e&&r){var l=n*s;o==="contain"&&l>a||o==="cover"&&l<a?n=a/s:a=n*s}else e?n=a/s:r&&(a=n*s);return{width:a,height:n}}function en(t){var s=t.width,n=t.height,a=t.degree;if(a=Math.abs(a)%180,a===90)return{width:n,height:s};var o=a%90*Math.PI/180,e=Math.sin(o),r=Math.cos(o),l=s*r+n*e,h=s*e+n*r;return a>90?{width:h,height:l}:{width:l,height:h}}function on(t,s,n,a){var o=s.aspectRatio,e=s.naturalWidth,r=s.naturalHeight,l=s.rotate,h=l===void 0?0:l,c=s.scaleX,i=c===void 0?1:c,p=s.scaleY,D=p===void 0?1:p,f=n.aspectRatio,d=n.naturalWidth,g=n.naturalHeight,F=a.fillColor,w=F===void 0?"transparent":F,x=a.imageSmoothingEnabled,b=x===void 0?!0:x,X=a.imageSmoothingQuality,R=X===void 0?"low":X,y=a.maxWidth,m=y===void 0?1/0:y,E=a.maxHeight,_=E===void 0?1/0:E,Y=a.minWidth,U=Y===void 0?0:Y,V=a.minHeight,q=V===void 0?0:V,B=document.createElement("canvas"),T=B.getContext("2d"),j=W({aspectRatio:f,width:m,height:_}),ps=W({aspectRatio:f,width:U,height:q},"cover"),fs=Math.min(j.width,Math.max(ps.width,d)),Fs=Math.min(j.height,Math.max(ps.height,g)),Is=W({aspectRatio:o,width:m,height:_}),Bs=W({aspectRatio:o,width:U,height:q},"cover"),Ls=Math.min(Is.width,Math.max(Bs.width,e)),Ps=Math.min(Is.height,Math.max(Bs.height,r)),va=[-Ls/2,-Ps/2,Ls,Ps];return B.width=ss(fs),B.height=ss(Fs),T.fillStyle=w,T.fillRect(0,0,fs,Fs),T.save(),T.translate(fs/2,Fs/2),T.rotate(h*Math.PI/180),T.scale(i,D),T.imageSmoothingEnabled=b,T.imageSmoothingQuality=R,T.drawImage.apply(T,[t].concat(ra(va.map(function(Ca){return Math.floor(ss(Ca))})))),T.restore(),B}var ma=String.fromCharCode;function rn(t,s,n){var a="";n+=s;for(var o=s;o<n;o+=1)a+=ma(t.getUint8(o));return a}var ln=/^data:.*,/;function pn(t){var s=t.replace(ln,""),n=atob(s),a=new ArrayBuffer(n.length),o=new Uint8Array(a);return A(o,function(e,r){o[r]=n.charCodeAt(r)}),a}function cn(t,s){for(var n=[],a=8192,o=new Uint8Array(t);o.length>0;)n.push(ma.apply(null,ua(o.subarray(0,a)))),o=o.subarray(a);return"data:".concat(s,";base64,").concat(btoa(n.join("")))}function hn(t){var s=new DataView(t),n;try{var a,o,e;if(s.getUint8(0)===255&&s.getUint8(1)===216)for(var r=s.byteLength,l=2;l+1<r;){if(s.getUint8(l)===255&&s.getUint8(l+1)===225){o=l;break}l+=1}if(o){var h=o+4,c=o+10;if(rn(s,h,4)==="Exif"){var i=s.getUint16(c);if(a=i===18761,(a||i===19789)&&s.getUint16(c+2,a)===42){var p=s.getUint32(c+4,a);p>=8&&(e=c+p)}}}if(e){var D=s.getUint16(e,a),f,d;for(d=0;d<D;d+=1)if(f=e+d*12+2,s.getUint16(f,a)===274){f+=8,n=s.getUint16(f,a),s.setUint16(f,1,a);break}}}catch{n=1}return n}function Dn(t){var s=0,n=1,a=1;switch(t){case 2:n=-1;break;case 3:s=-180;break;case 4:a=-1;break;case 5:s=90,a=-1;break;case 6:s=90;break;case 7:s=90,n=-1;break;case 8:s=-90;break}return{rotate:s,scaleX:n,scaleY:a}}var yn={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var s=this.element,n=this.options,a=this.container,o=this.cropper,e=Number(n.minContainerWidth),r=Number(n.minContainerHeight);M(o,O),L(s,O);var l={width:Math.max(a.offsetWidth,e>=0?e:Da),height:Math.max(a.offsetHeight,r>=0?r:ya)};this.containerData=l,z(o,{width:l.width,height:l.height}),M(s,O),L(o,O)},initCanvas:function(){var s=this.containerData,n=this.imageData,a=this.options.viewMode,o=Math.abs(n.rotate)%180===90,e=o?n.naturalHeight:n.naturalWidth,r=o?n.naturalWidth:n.naturalHeight,l=e/r,h=s.width,c=s.height;s.height*l>s.width?a===3?h=s.height*l:c=s.width/l:a===3?c=s.width/l:h=s.height*l;var i={aspectRatio:l,naturalWidth:e,naturalHeight:r,width:h,height:c};this.canvasData=i,this.limited=a===1||a===2,this.limitCanvas(!0,!0),i.width=Math.min(Math.max(i.width,i.minWidth),i.maxWidth),i.height=Math.min(Math.max(i.height,i.minHeight),i.maxHeight),i.left=(s.width-i.width)/2,i.top=(s.height-i.height)/2,i.oldLeft=i.left,i.oldTop=i.top,this.initialCanvasData=C({},i)},limitCanvas:function(s,n){var a=this.options,o=this.containerData,e=this.canvasData,r=this.cropBoxData,l=a.viewMode,h=e.aspectRatio,c=this.cropped&&r;if(s){var i=Number(a.minCanvasWidth)||0,p=Number(a.minCanvasHeight)||0;l>1?(i=Math.max(i,o.width),p=Math.max(p,o.height),l===3&&(p*h>i?i=p*h:p=i/h)):l>0&&(i?i=Math.max(i,c?r.width:0):p?p=Math.max(p,c?r.height:0):c&&(i=r.width,p=r.height,p*h>i?i=p*h:p=i/h));var D=W({aspectRatio:h,width:i,height:p});i=D.width,p=D.height,e.minWidth=i,e.minHeight=p,e.maxWidth=1/0,e.maxHeight=1/0}if(n)if(l>(c?0:1)){var f=o.width-e.width,d=o.height-e.height;e.minLeft=Math.min(0,f),e.minTop=Math.min(0,d),e.maxLeft=Math.max(0,f),e.maxTop=Math.max(0,d),c&&this.limited&&(e.minLeft=Math.min(r.left,r.left+(r.width-e.width)),e.minTop=Math.min(r.top,r.top+(r.height-e.height)),e.maxLeft=r.left,e.maxTop=r.top,l===2&&(e.width>=o.width&&(e.minLeft=Math.min(0,f),e.maxLeft=Math.max(0,f)),e.height>=o.height&&(e.minTop=Math.min(0,d),e.maxTop=Math.max(0,d))))}else e.minLeft=-e.width,e.minTop=-e.height,e.maxLeft=o.width,e.maxTop=o.height},renderCanvas:function(s,n){var a=this.canvasData,o=this.imageData;if(n){var e=en({width:o.naturalWidth*Math.abs(o.scaleX||1),height:o.naturalHeight*Math.abs(o.scaleY||1),degree:o.rotate||0}),r=e.width,l=e.height,h=a.width*(r/a.naturalWidth),c=a.height*(l/a.naturalHeight);a.left-=(h-a.width)/2,a.top-=(c-a.height)/2,a.width=h,a.height=c,a.aspectRatio=r/l,a.naturalWidth=r,a.naturalHeight=l,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,z(this.canvas,C({width:a.width,height:a.height},rs({translateX:a.left,translateY:a.top}))),this.renderImage(s),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(s){var n=this.canvasData,a=this.imageData,o=a.naturalWidth*(n.width/n.naturalWidth),e=a.naturalHeight*(n.height/n.naturalHeight);C(a,{width:o,height:e,left:(n.width-o)/2,top:(n.height-e)/2}),z(this.image,C({width:a.width,height:a.height},rs(C({translateX:a.left,translateY:a.top},a)))),s&&this.output()},initCropBox:function(){var s=this.options,n=this.canvasData,a=s.aspectRatio||s.initialAspectRatio,o=Number(s.autoCropArea)||.8,e={width:n.width,height:n.height};a&&(n.height*a>n.width?e.height=e.width/a:e.width=e.height*a),this.cropBoxData=e,this.limitCropBox(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.width=Math.max(e.minWidth,e.width*o),e.height=Math.max(e.minHeight,e.height*o),e.left=n.left+(n.width-e.width)/2,e.top=n.top+(n.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCropBoxData=C({},e)},limitCropBox:function(s,n){var a=this.options,o=this.containerData,e=this.canvasData,r=this.cropBoxData,l=this.limited,h=a.aspectRatio;if(s){var c=Number(a.minCropBoxWidth)||0,i=Number(a.minCropBoxHeight)||0,p=l?Math.min(o.width,e.width,e.width+e.left,o.width-e.left):o.width,D=l?Math.min(o.height,e.height,e.height+e.top,o.height-e.top):o.height;c=Math.min(c,o.width),i=Math.min(i,o.height),h&&(c&&i?i*h>c?i=c/h:c=i*h:c?i=c/h:i&&(c=i*h),D*h>p?D=p/h:p=D*h),r.minWidth=Math.min(c,p),r.minHeight=Math.min(i,D),r.maxWidth=p,r.maxHeight=D}n&&(l?(r.minLeft=Math.max(0,e.left),r.minTop=Math.max(0,e.top),r.maxLeft=Math.min(o.width,e.left+e.width)-r.width,r.maxTop=Math.min(o.height,e.top+e.height)-r.height):(r.minLeft=0,r.minTop=0,r.maxLeft=o.width-r.width,r.maxTop=o.height-r.height))},renderCropBox:function(){var s=this.options,n=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,s.movable&&s.cropBoxMovable&&is(this.face,ls,a.width>=n.width&&a.height>=n.height?ia:_s),z(this.cropBox,C({width:a.width,height:a.height},rs({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),as(this.element,ws,this.getData())}},un={initPreview:function(){var s=this.element,n=this.crossOrigin,a=this.options.preview,o=n?this.crossOriginUrl:this.url,e=s.alt||"The image to preview",r=document.createElement("img");if(n&&(r.crossOrigin=n),r.src=o,r.alt=e,this.viewBox.appendChild(r),this.viewBoxImage=r,!!a){var l=a;typeof a=="string"?l=s.ownerDocument.querySelectorAll(a):a.querySelector&&(l=[a]),this.previews=l,A(l,function(h){var c=document.createElement("img");is(h,Ds,{width:h.offsetWidth,height:h.offsetHeight,html:h.innerHTML}),n&&(c.crossOrigin=n),c.src=o,c.alt=e,c.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',h.innerHTML="",h.appendChild(c)})}},resetPreview:function(){A(this.previews,function(s){var n=Ns(s,Ds);z(s,{width:n.width,height:n.height}),s.innerHTML=n.html,sn(s,Ds)})},preview:function(){var s=this.imageData,n=this.canvasData,a=this.cropBoxData,o=a.width,e=a.height,r=s.width,l=s.height,h=a.left-n.left-s.left,c=a.top-n.top-s.top;!this.cropped||this.disabled||(z(this.viewBoxImage,C({width:r,height:l},rs(C({translateX:-h,translateY:-c},s)))),A(this.previews,function(i){var p=Ns(i,Ds),D=p.width,f=p.height,d=D,g=f,F=1;o&&(F=D/o,g=e*F),e&&g>f&&(F=f/e,d=o*F,g=f),z(i,{width:d,height:g}),z(i.getElementsByTagName("img")[0],C({width:r*F,height:l*F},rs(C({translateX:-h*F,translateY:-c*F},s))))}))}},dn={bind:function(){var s=this.element,n=this.options,a=this.cropper;N(n.cropstart)&&S(s,Ms,n.cropstart),N(n.cropmove)&&S(s,xs,n.cropmove),N(n.cropend)&&S(s,Es,n.cropend),N(n.crop)&&S(s,ws,n.crop),N(n.zoom)&&S(s,Ts,n.zoom),S(a,Vs,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&S(a,Zs,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&S(a,Us,this.onDblclick=this.dblclick.bind(this)),S(s.ownerDocument,js,this.onCropMove=this.cropMove.bind(this)),S(s.ownerDocument,$s,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&S(window,Qs,this.onResize=this.resize.bind(this))},unbind:function(){var s=this.element,n=this.options,a=this.cropper;N(n.cropstart)&&k(s,Ms,n.cropstart),N(n.cropmove)&&k(s,xs,n.cropmove),N(n.cropend)&&k(s,Es,n.cropend),N(n.crop)&&k(s,ws,n.crop),N(n.zoom)&&k(s,Ts,n.zoom),k(a,Vs,this.onCropStart),n.zoomable&&n.zoomOnWheel&&k(a,Zs,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&k(a,Us,this.onDblclick),k(s.ownerDocument,js,this.onCropMove),k(s.ownerDocument,$s,this.onCropEnd),n.responsive&&k(window,Qs,this.onResize)}},fn={resize:function(){if(!this.disabled){var s=this.options,n=this.container,a=this.containerData,o=n.offsetWidth/a.width,e=n.offsetHeight/a.height,r=Math.abs(o-1)>Math.abs(e-1)?o:e;if(r!==1){var l,h;s.restore&&(l=this.getCanvasData(),h=this.getCropBoxData()),this.render(),s.restore&&(this.setCanvasData(A(l,function(c,i){l[i]=c*r})),this.setCropBoxData(A(h,function(c,i){h[i]=c*r})))}}},dblclick:function(){this.disabled||this.options.dragMode===ha||this.setDragMode(Ka(this.dragBox,bs)?ca:Ss)},wheel:function(s){var n=this,a=Number(this.options.wheelZoomRatio)||.1,o=1;this.disabled||(s.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),s.deltaY?o=s.deltaY>0?1:-1:s.wheelDelta?o=-s.wheelDelta/120:s.detail&&(o=s.detail>0?1:-1),this.zoom(-o*a,s)))},cropStart:function(s){var n=s.buttons,a=s.button;if(!(this.disabled||(s.type==="mousedown"||s.type==="pointerdown"&&s.pointerType==="mouse")&&(u(n)&&n!==1||u(a)&&a!==0||s.ctrlKey))){var o=this.options,e=this.pointers,r;s.changedTouches?A(s.changedTouches,function(l){e[l.identifier]=ys(l)}):e[s.pointerId||0]=ys(s),Object.keys(e).length>1&&o.zoomable&&o.zoomOnTouch?r=pa:r=Ns(s.target,ls),Ha.test(r)&&as(this.element,Ms,{originalEvent:s,action:r})!==!1&&(s.preventDefault(),this.action=r,this.cropping=!1,r===la&&(this.cropping=!0,M(this.dragBox,us)))}},cropMove:function(s){var n=this.action;if(!(this.disabled||!n)){var a=this.pointers;s.preventDefault(),as(this.element,xs,{originalEvent:s,action:n})!==!1&&(s.changedTouches?A(s.changedTouches,function(o){C(a[o.identifier]||{},ys(o,!0))}):C(a[s.pointerId||0]||{},ys(s,!0)),this.change(s))}},cropEnd:function(s){if(!this.disabled){var n=this.action,a=this.pointers;s.changedTouches?A(s.changedTouches,function(o){delete a[o.identifier]}):delete a[s.pointerId||0],n&&(s.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,J(this.dragBox,us,this.cropped&&this.options.modal)),as(this.element,Es,{originalEvent:s,action:n}))}}},Fn={change:function(s){var n=this.options,a=this.canvasData,o=this.containerData,e=this.cropBoxData,r=this.pointers,l=this.action,h=n.aspectRatio,c=e.left,i=e.top,p=e.width,D=e.height,f=c+p,d=i+D,g=0,F=0,w=o.width,x=o.height,b=!0,X;!h&&s.shiftKey&&(h=p&&D?p/D:1),this.limited&&(g=e.minLeft,F=e.minTop,w=g+Math.min(o.width,a.width,a.left+a.width),x=F+Math.min(o.height,a.height,a.top+a.height));var R=r[Object.keys(r)[0]],y={x:R.endX-R.startX,y:R.endY-R.startY},m=function(_){switch(_){case $:f+y.x>w&&(y.x=w-f);break;case G:c+y.x<g&&(y.x=g-c);break;case H:i+y.y<F&&(y.y=F-i);break;case Z:d+y.y>x&&(y.y=x-d);break}};switch(l){case _s:c+=y.x,i+=y.y;break;case $:if(y.x>=0&&(f>=w||h&&(i<=F||d>=x))){b=!1;break}m($),p+=y.x,p<0&&(l=G,p=-p,c-=p),h&&(D=p/h,i+=(e.height-D)/2);break;case H:if(y.y<=0&&(i<=F||h&&(c<=g||f>=w))){b=!1;break}m(H),D-=y.y,i+=y.y,D<0&&(l=Z,D=-D,i-=D),h&&(p=D*h,c+=(e.width-p)/2);break;case G:if(y.x<=0&&(c<=g||h&&(i<=F||d>=x))){b=!1;break}m(G),p-=y.x,c+=y.x,p<0&&(l=$,p=-p,c-=p),h&&(D=p/h,i+=(e.height-D)/2);break;case Z:if(y.y>=0&&(d>=x||h&&(c<=g||f>=w))){b=!1;break}m(Z),D+=y.y,D<0&&(l=H,D=-D,i-=D),h&&(p=D*h,c+=(e.width-p)/2);break;case ns:if(h){if(y.y<=0&&(i<=F||f>=w)){b=!1;break}m(H),D-=y.y,i+=y.y,p=D*h}else m(H),m($),y.x>=0?f<w?p+=y.x:y.y<=0&&i<=F&&(b=!1):p+=y.x,y.y<=0?i>F&&(D-=y.y,i+=y.y):(D-=y.y,i+=y.y);p<0&&D<0?(l=os,D=-D,p=-p,i-=D,c-=p):p<0?(l=ts,p=-p,c-=p):D<0&&(l=es,D=-D,i-=D);break;case ts:if(h){if(y.y<=0&&(i<=F||c<=g)){b=!1;break}m(H),D-=y.y,i+=y.y,p=D*h,c+=e.width-p}else m(H),m(G),y.x<=0?c>g?(p-=y.x,c+=y.x):y.y<=0&&i<=F&&(b=!1):(p-=y.x,c+=y.x),y.y<=0?i>F&&(D-=y.y,i+=y.y):(D-=y.y,i+=y.y);p<0&&D<0?(l=es,D=-D,p=-p,i-=D,c-=p):p<0?(l=ns,p=-p,c-=p):D<0&&(l=os,D=-D,i-=D);break;case os:if(h){if(y.x<=0&&(c<=g||d>=x)){b=!1;break}m(G),p-=y.x,c+=y.x,D=p/h}else m(Z),m(G),y.x<=0?c>g?(p-=y.x,c+=y.x):y.y>=0&&d>=x&&(b=!1):(p-=y.x,c+=y.x),y.y>=0?d<x&&(D+=y.y):D+=y.y;p<0&&D<0?(l=ns,D=-D,p=-p,i-=D,c-=p):p<0?(l=es,p=-p,c-=p):D<0&&(l=ts,D=-D,i-=D);break;case es:if(h){if(y.x>=0&&(f>=w||d>=x)){b=!1;break}m($),p+=y.x,D=p/h}else m(Z),m($),y.x>=0?f<w?p+=y.x:y.y>=0&&d>=x&&(b=!1):p+=y.x,y.y>=0?d<x&&(D+=y.y):D+=y.y;p<0&&D<0?(l=ts,D=-D,p=-p,i-=D,c-=p):p<0?(l=os,p=-p,c-=p):D<0&&(l=ns,D=-D,i-=D);break;case ia:this.move(y.x,y.y),b=!1;break;case pa:this.zoom(nn(r),s),b=!1;break;case la:if(!y.x||!y.y){b=!1;break}X=Fa(this.cropper),c=R.startX-X.left,i=R.startY-X.top,p=e.minWidth,D=e.minHeight,y.x>0?l=y.y>0?es:ns:y.x<0&&(c-=p,l=y.y>0?os:ts),y.y<0&&(i-=D),this.cropped||(L(this.cropBox,O),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}b&&(e.width=p,e.height=D,e.left=c,e.top=i,this.action=l,this.renderCropBox()),A(r,function(E){E.startX=E.endX,E.startY=E.endY})}},mn={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&M(this.dragBox,us),L(this.cropBox,O),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=C({},this.initialImageData),this.canvasData=C({},this.initialCanvasData),this.cropBoxData=C({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(C(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),L(this.dragBox,us),M(this.cropBox,O)),this},replace:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&s&&(this.isImg&&(this.element.src=s),n?(this.url=s,this.image.src=s,this.ready&&(this.viewBoxImage.src=s,A(this.previews,function(a){a.getElementsByTagName("img")[0].src=s}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(s))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,L(this.cropper,zs)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,M(this.cropper,zs)),this},destroy:function(){var s=this.element;return s[v]?(s[v]=void 0,this.isImg&&this.replaced&&(s.src=this.originalUrl),this.uncreate(),this):this},move:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,a=this.canvasData,o=a.left,e=a.top;return this.moveTo(ms(s)?s:o+Number(s),ms(n)?n:e+Number(n))},moveTo:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,a=this.canvasData,o=!1;return s=Number(s),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(u(s)&&(a.left=s,o=!0),u(n)&&(a.top=n,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(s,n){var a=this.canvasData;return s=Number(s),s<0?s=1/(1-s):s=1+s,this.zoomTo(a.width*s/a.naturalWidth,null,n)},zoomTo:function(s,n,a){var o=this.options,e=this.canvasData,r=e.width,l=e.height,h=e.naturalWidth,c=e.naturalHeight;if(s=Number(s),s>=0&&this.ready&&!this.disabled&&o.zoomable){var i=h*s,p=c*s;if(as(this.element,Ts,{ratio:s,oldRatio:r/h,originalEvent:a})===!1)return this;if(a){var D=this.pointers,f=Fa(this.cropper),d=D&&Object.keys(D).length?tn(D):{pageX:a.pageX,pageY:a.pageY};e.left-=(i-r)*((d.pageX-f.left-e.left)/r),e.top-=(p-l)*((d.pageY-f.top-e.top)/l)}else K(n)&&u(n.x)&&u(n.y)?(e.left-=(i-r)*((n.x-e.left)/r),e.top-=(p-l)*((n.y-e.top)/l)):(e.left-=(i-r)/2,e.top-=(p-l)/2);e.width=i,e.height=p,this.renderCanvas(!0)}return this},rotate:function(s){return this.rotateTo((this.imageData.rotate||0)+Number(s))},rotateTo:function(s){return s=Number(s),u(s)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=s%360,this.renderCanvas(!0,!0)),this},scaleX:function(s){var n=this.imageData.scaleY;return this.scale(s,u(n)?n:1)},scaleY:function(s){var n=this.imageData.scaleX;return this.scale(u(n)?n:1,s)},scale:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,a=this.imageData,o=!1;return s=Number(s),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(u(s)&&(a.scaleX=s,o=!0),u(n)&&(a.scaleY=n,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,a=this.imageData,o=this.canvasData,e=this.cropBoxData,r;if(this.ready&&this.cropped){r={x:e.left-o.left,y:e.top-o.top,width:e.width,height:e.height};var l=a.width/a.naturalWidth;if(A(r,function(i,p){r[p]=i/l}),s){var h=Math.round(r.y+r.height),c=Math.round(r.x+r.width);r.x=Math.round(r.x),r.y=Math.round(r.y),r.width=c-r.x,r.height=h-r.y}}else r={x:0,y:0,width:0,height:0};return n.rotatable&&(r.rotate=a.rotate||0),n.scalable&&(r.scaleX=a.scaleX||1,r.scaleY=a.scaleY||1),r},setData:function(s){var n=this.options,a=this.imageData,o=this.canvasData,e={};if(this.ready&&!this.disabled&&K(s)){var r=!1;n.rotatable&&u(s.rotate)&&s.rotate!==a.rotate&&(a.rotate=s.rotate,r=!0),n.scalable&&(u(s.scaleX)&&s.scaleX!==a.scaleX&&(a.scaleX=s.scaleX,r=!0),u(s.scaleY)&&s.scaleY!==a.scaleY&&(a.scaleY=s.scaleY,r=!0)),r&&this.renderCanvas(!0,!0);var l=a.width/a.naturalWidth;u(s.x)&&(e.left=s.x*l+o.left),u(s.y)&&(e.top=s.y*l+o.top),u(s.width)&&(e.width=s.width*l),u(s.height)&&(e.height=s.height*l),this.setCropBoxData(e)}return this},getContainerData:function(){return this.ready?C({},this.containerData):{}},getImageData:function(){return this.sized?C({},this.imageData):{}},getCanvasData:function(){var s=this.canvasData,n={};return this.ready&&A(["left","top","width","height","naturalWidth","naturalHeight"],function(a){n[a]=s[a]}),n},setCanvasData:function(s){var n=this.canvasData,a=n.aspectRatio;return this.ready&&!this.disabled&&K(s)&&(u(s.left)&&(n.left=s.left),u(s.top)&&(n.top=s.top),u(s.width)?(n.width=s.width,n.height=s.width/a):u(s.height)&&(n.height=s.height,n.width=s.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var s=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:s.left,top:s.top,width:s.width,height:s.height}),n||{}},setCropBoxData:function(s){var n=this.cropBoxData,a=this.options.aspectRatio,o,e;return this.ready&&this.cropped&&!this.disabled&&K(s)&&(u(s.left)&&(n.left=s.left),u(s.top)&&(n.top=s.top),u(s.width)&&s.width!==n.width&&(o=!0,n.width=s.width),u(s.height)&&s.height!==n.height&&(e=!0,n.height=s.height),a&&(o?n.height=n.width/a:e&&(n.width=n.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,a=on(this.image,this.imageData,n,s);if(!this.cropped)return a;var o=this.getData(),e=o.x,r=o.y,l=o.width,h=o.height,c=a.width/Math.floor(n.naturalWidth);c!==1&&(e*=c,r*=c,l*=c,h*=c);var i=l/h,p=W({aspectRatio:i,width:s.maxWidth||1/0,height:s.maxHeight||1/0}),D=W({aspectRatio:i,width:s.minWidth||0,height:s.minHeight||0},"cover"),f=W({aspectRatio:i,width:s.width||(c!==1?a.width:l),height:s.height||(c!==1?a.height:h)}),d=f.width,g=f.height;d=Math.min(p.width,Math.max(D.width,d)),g=Math.min(p.height,Math.max(D.height,g));var F=document.createElement("canvas"),w=F.getContext("2d");F.width=ss(d),F.height=ss(g),w.fillStyle=s.fillColor||"transparent",w.fillRect(0,0,d,g);var x=s.imageSmoothingEnabled,b=x===void 0?!0:x,X=s.imageSmoothingQuality;w.imageSmoothingEnabled=b,X&&(w.imageSmoothingQuality=X);var R=a.width,y=a.height,m=e,E=r,_,Y,U,V,q,B;m<=-l||m>R?(m=0,_=0,U=0,q=0):m<=0?(U=-m,m=0,_=Math.min(R,l+m),q=_):m<=R&&(U=0,_=Math.min(l,R-m),q=_),_<=0||E<=-h||E>y?(E=0,Y=0,V=0,B=0):E<=0?(V=-E,E=0,Y=Math.min(y,h+E),B=Y):E<=y&&(V=0,Y=Math.min(h,y-E),B=Y);var T=[m,E,_,Y];if(q>0&&B>0){var j=d/l;T.push(U*j,V*j,q*j,B*j)}return w.drawImage.apply(w,[a].concat(ra(T.map(function(ps){return Math.floor(ss(ps))})))),F},setAspectRatio:function(s){var n=this.options;return!this.disabled&&!ms(s)&&(n.aspectRatio=Math.max(0,s)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(s){var n=this.options,a=this.dragBox,o=this.face;if(this.ready&&!this.disabled){var e=s===Ss,r=n.movable&&s===ca;s=e||r?s:ha,n.dragMode=s,is(a,ls,s),J(a,bs,e),J(a,As,r),n.cropBoxMovable||(is(o,ls,s),J(o,bs,e),J(o,As,r))}return this}},gn=P.Cropper,ga=function(){function t(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ra(this,t),!s||!Ua.test(s.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=s,this.options=C({},Js,K(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _a(t,[{key:"init",value:function(){var n=this.element,a=n.tagName.toLowerCase(),o;if(!n[v]){if(n[v]=this,a==="img"){if(this.isImg=!0,o=n.getAttribute("src")||"",this.originalUrl=o,!o)return;o=n.src}else a==="canvas"&&window.HTMLCanvasElement&&(o=n.toDataURL());this.load(o)}}},{key:"load",value:function(n){var a=this;if(n){this.url=n,this.imageData={};var o=this.element,e=this.options;if(!e.rotatable&&!e.scalable&&(e.checkOrientation=!1),!e.checkOrientation||!window.ArrayBuffer){this.clone();return}if(za.test(n)){Wa.test(n)?this.read(pn(n)):this.clone();return}var r=new XMLHttpRequest,l=this.clone.bind(this);this.reloading=!0,this.xhr=r,r.onabort=l,r.onerror=l,r.ontimeout=l,r.onprogress=function(){r.getResponseHeader("content-type")!==Ks&&r.abort()},r.onload=function(){a.read(r.response)},r.onloadend=function(){a.reloading=!1,a.xhr=null},e.checkCrossOrigin&&aa(n)&&o.crossOrigin&&(n=na(n)),r.open("GET",n,!0),r.responseType="arraybuffer",r.withCredentials=o.crossOrigin==="use-credentials",r.send()}}},{key:"read",value:function(n){var a=this.options,o=this.imageData,e=hn(n),r=0,l=1,h=1;if(e>1){this.url=cn(n,Ks);var c=Dn(e);r=c.rotate,l=c.scaleX,h=c.scaleY}a.rotatable&&(o.rotate=r),a.scalable&&(o.scaleX=l,o.scaleY=h),this.clone()}},{key:"clone",value:function(){var n=this.element,a=this.url,o=n.crossOrigin,e=a;this.options.checkCrossOrigin&&aa(a)&&(o||(o="anonymous"),e=na(a)),this.crossOrigin=o,this.crossOriginUrl=e;var r=document.createElement("img");o&&(r.crossOrigin=o),r.src=e||a,r.alt=n.alt||"The image to crop",this.image=r,r.onload=this.start.bind(this),r.onerror=this.stop.bind(this),M(r,Ws),n.parentNode.insertBefore(r,n.nextSibling)}},{key:"start",value:function(){var n=this,a=this.image;a.onload=null,a.onerror=null,this.sizing=!0;var o=P.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(P.navigator.userAgent),e=function(c,i){C(n.imageData,{naturalWidth:c,naturalHeight:i,aspectRatio:c/i}),n.initialImageData=C({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(a.naturalWidth&&!o){e(a.naturalWidth,a.naturalHeight);return}var r=document.createElement("img"),l=document.body||document.documentElement;this.sizingImage=r,r.onload=function(){e(r.width,r.height),o||l.removeChild(r)},r.src=a.src,o||(r.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",l.appendChild(r))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,a=this.options,o=this.image,e=n.parentNode,r=document.createElement("div");r.innerHTML=Va;var l=r.querySelector(".".concat(v,"-container")),h=l.querySelector(".".concat(v,"-canvas")),c=l.querySelector(".".concat(v,"-drag-box")),i=l.querySelector(".".concat(v,"-crop-box")),p=i.querySelector(".".concat(v,"-face"));this.container=e,this.cropper=l,this.canvas=h,this.dragBox=c,this.cropBox=i,this.viewBox=l.querySelector(".".concat(v,"-view-box")),this.face=p,h.appendChild(o),M(n,O),e.insertBefore(l,n.nextSibling),L(o,Ws),this.initPreview(),this.bind(),a.initialAspectRatio=Math.max(0,a.initialAspectRatio)||NaN,a.aspectRatio=Math.max(0,a.aspectRatio)||NaN,a.viewMode=Math.max(0,Math.min(3,Math.round(a.viewMode)))||0,M(i,O),a.guides||M(i.getElementsByClassName("".concat(v,"-dashed")),O),a.center||M(i.getElementsByClassName("".concat(v,"-center")),O),a.background&&M(l,"".concat(v,"-bg")),a.highlight||M(p,Pa),a.cropBoxMovable&&(M(p,As),is(p,ls,_s)),a.cropBoxResizable||(M(i.getElementsByClassName("".concat(v,"-line")),O),M(i.getElementsByClassName("".concat(v,"-point")),O)),this.render(),this.ready=!0,this.setDragMode(a.dragMode),a.autoCrop&&this.crop(),this.setData(a.data),N(a.ready)&&S(n,Gs,a.ready,{once:!0}),as(n,Gs)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),L(this.element,O)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=gn,t}},{key:"setDefaults",value:function(n){C(Js,K(n)&&n)}}]),t}();C(ga.prototype,yn,un,dn,fn,Fn,mn);const vn={class:"mt-20"},Cn={class:"flex flex-col mb-20"},bn={class:"mt-20"},An=["src"],wn=ba({__name:"cropper",setup(t){const s=cs(null),n=cs(),a=cs(NaN),o=cs(null);Aa(async()=>{await wa(),e()});async function e(){o.value=new ga(s.value,{aspectRatio:a.value,minContainerWidth:688,minContainerHeight:688,crop(l){console.log(l.detail.x),console.log(l.detail.y),console.log(l.detail.width),console.log(l.detail.height),console.log(l.detail.rotate),console.log(l.detail.scaleX),console.log(l.detail.scaleY)}})}Xs(()=>n.value,()=>{n.value?o.value.replace(n.value):o.value.replace(Ys)}),Xs(()=>a.value,()=>{o.value.setAspectRatio(a.value)});async function r(){const l=o.value.getCroppedCanvas(),h=new Image;h.src=l.toDataURL("image/png");const c=document.createElement("a");c.href=h.src,c.download="cropped.png",c.click()}return(l,h)=>(ta(),ea("div",vn,[I("div",Cn,[Ea(I("input",{"onUpdate:modelValue":h[0]||(h[0]=c=>n.value=c),class:"border border-primary border-solid rounded-4 py-5 px-9",type:"text",placeholder:"输入在线图片地址裁剪"},null,512),[[xa,n.value]]),I("div",bn,[I("button",{class:hs(["btn border border-primary border-solid mr-10",a.value?"!bg-transparent":""]),onClick:h[1]||(h[1]=c=>a.value=NaN)}," 默认 ",2),I("button",{class:hs(["btn border border-primary border-solid mr-10",a.value===16/9?"":"!bg-transparent"]),onClick:h[2]||(h[2]=c=>a.value=16/9)}," 16 / 9 ",2),I("button",{class:hs(["btn border border-primary border-solid mr-10",a.value===4/3?"":"!bg-transparent"]),onClick:h[3]||(h[3]=c=>a.value=4/3)}," 4 / 3 ",2),I("button",{class:hs(["btn border border-primary border-solid mr-10",a.value===1/1?"":"!bg-transparent"]),onClick:h[4]||(h[4]=c=>a.value=1/1)}," 1 / 1 ",2)])]),I("img",{ref_key:"image",ref:s,src:n.value??Ma(Ys)},null,8,An),I("button",{class:"btn mt-20",onClick:r},"下载")]))}}),En=I("h1",{id:"预览效果",tabindex:"-1"},[Na("预览效果 "),I("a",{class:"header-anchor",href:"#预览效果","aria-label":'Permalink to "预览效果"'},"​")],-1),xn=Oa("",2),Nn=JSON.parse('{"title":"预览效果","description":"","frontmatter":{},"headers":[],"relativePath":"src/fun/frontend/cropper.md","filePath":"src/fun/frontend/cropper.md","lastUpdated":1693307397000}'),Mn={name:"src/fun/frontend/cropper.md"},On=Object.assign(Mn,{setup(t){return(s,n)=>(ta(),ea("div",null,[En,Ta(wn),xn]))}});export{Nn as __pageData,On as default};
