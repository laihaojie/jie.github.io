import{d as Ba,f as ns,k as Aa,X as wa,i as Ca,w as Ps,o as ta,c as ea,v as M,a4 as xa,a5 as Ma,n as hs,b as Ta,a as oa,B as Na,O as Oa}from"./chunks/framework.14f1772a.js";const Xs="/logo.png";/*!
 * Cropper.js v1.5.13
 * https://fengyuanchen.github.io/cropperjs
 *
 * Copyright 2015-present Chen Fengyuan
 * Released under the MIT license
 *
 * Date: 2022-11-20T05:30:46.114Z
 */function Ys(t,s){var n=Object.keys(t);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(t);s&&(a=a.filter(function(o){return Object.getOwnPropertyDescriptor(t,o).enumerable})),n.push.apply(n,a)}return n}function la(t){for(var s=1;s<arguments.length;s++){var n=arguments[s]!=null?arguments[s]:{};s%2?Ys(Object(n),!0).forEach(function(a){Sa(t,a,n[a])}):Object.getOwnPropertyDescriptors?Object.defineProperties(t,Object.getOwnPropertyDescriptors(n)):Ys(Object(n)).forEach(function(a){Object.defineProperty(t,a,Object.getOwnPropertyDescriptor(n,a))})}return t}function vs(t){"@babel/helpers - typeof";return vs=typeof Symbol=="function"&&typeof Symbol.iterator=="symbol"?function(s){return typeof s}:function(s){return s&&typeof Symbol=="function"&&s.constructor===Symbol&&s!==Symbol.prototype?"symbol":typeof s},vs(t)}function Ra(t,s){if(!(t instanceof s))throw new TypeError("Cannot call a class as a function")}function Hs(t,s){for(var n=0;n<s.length;n++){var a=s[n];a.enumerable=a.enumerable||!1,a.configurable=!0,"value"in a&&(a.writable=!0),Object.defineProperty(t,a.key,a)}}function _a(t,s,n){return s&&Hs(t.prototype,s),n&&Hs(t,n),Object.defineProperty(t,"prototype",{writable:!1}),t}function Sa(t,s,n){return s in t?Object.defineProperty(t,s,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[s]=n,t}function ra(t){return Ia(t)||ka(t)||qa(t)||La()}function Ia(t){if(Array.isArray(t))return bs(t)}function ka(t){if(typeof Symbol<"u"&&t[Symbol.iterator]!=null||t["@@iterator"]!=null)return Array.from(t)}function qa(t,s){if(t){if(typeof t=="string")return bs(t,s);var n=Object.prototype.toString.call(t).slice(8,-1);if(n==="Object"&&t.constructor&&(n=t.constructor.name),n==="Map"||n==="Set")return Array.from(t);if(n==="Arguments"||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return bs(t,s)}}function bs(t,s){(s==null||s>t.length)&&(s=t.length);for(var n=0,a=new Array(s);n<s;n++)a[n]=t[n];return a}function La(){throw new TypeError(`Invalid attempt to spread non-iterable instance.
In order to be iterable, non-array objects must have a [Symbol.iterator]() method.`)}var Fs=typeof window<"u"&&typeof window.document<"u",L=Fs?window:{},Ns=Fs&&L.document.documentElement?"ontouchstart"in L.document.documentElement:!1,Os=Fs?"PointerEvent"in L:!1,v="cropper",Rs="all",pa="crop",ia="move",ca="zoom",$="e",G="w",Z="s",H="n",ts="ne",es="nw",os="se",ls="sw",Es="".concat(v,"-crop"),zs="".concat(v,"-disabled"),O="".concat(v,"-hidden"),Ws="".concat(v,"-hide"),Pa="".concat(v,"-invisible"),us="".concat(v,"-modal"),Bs="".concat(v,"-move"),ps="".concat(v,"Action"),Ds="".concat(v,"Preview"),_s="crop",ha="move",Da="none",As="crop",ws="cropend",Cs="cropmove",xs="cropstart",Us="dblclick",Xa=Ns?"touchstart":"mousedown",Ya=Ns?"touchmove":"mousemove",Ha=Ns?"touchend touchcancel":"mouseup",Vs=Os?"pointerdown":Xa,js=Os?"pointermove":Ya,$s=Os?"pointerup pointercancel":Ha,Gs="ready",Qs="resize",Zs="wheel",Ms="zoom",Ks="image/jpeg",za=/^e|w|s|n|se|sw|ne|nw|all|crop|move|zoom$/,Wa=/^data:/,Ua=/^data:image\/jpeg;base64,/,Va=/^img|canvas$/i,ya=200,ua=100,Js={viewMode:0,dragMode:_s,initialAspectRatio:NaN,aspectRatio:NaN,data:null,preview:"",responsive:!0,restore:!0,checkCrossOrigin:!0,checkOrientation:!0,modal:!0,guides:!0,center:!0,highlight:!0,background:!0,autoCrop:!0,autoCropArea:.8,movable:!0,rotatable:!0,scalable:!0,zoomable:!0,zoomOnTouch:!0,zoomOnWheel:!0,wheelZoomRatio:.1,cropBoxMovable:!0,cropBoxResizable:!0,toggleDragModeOnDblclick:!0,minCanvasWidth:0,minCanvasHeight:0,minCropBoxWidth:0,minCropBoxHeight:0,minContainerWidth:ya,minContainerHeight:ua,ready:null,cropstart:null,cropmove:null,cropend:null,crop:null,zoom:null},ja='<div class="cropper-container" touch-action="none"><div class="cropper-wrap-box"><div class="cropper-canvas"></div></div><div class="cropper-drag-box"></div><div class="cropper-crop-box"><span class="cropper-view-box"></span><span class="cropper-dashed dashed-h"></span><span class="cropper-dashed dashed-v"></span><span class="cropper-center"></span><span class="cropper-face"></span><span class="cropper-line line-e" data-cropper-action="e"></span><span class="cropper-line line-n" data-cropper-action="n"></span><span class="cropper-line line-w" data-cropper-action="w"></span><span class="cropper-line line-s" data-cropper-action="s"></span><span class="cropper-point point-e" data-cropper-action="e"></span><span class="cropper-point point-n" data-cropper-action="n"></span><span class="cropper-point point-w" data-cropper-action="w"></span><span class="cropper-point point-s" data-cropper-action="s"></span><span class="cropper-point point-ne" data-cropper-action="ne"></span><span class="cropper-point point-nw" data-cropper-action="nw"></span><span class="cropper-point point-sw" data-cropper-action="sw"></span><span class="cropper-point point-se" data-cropper-action="se"></span></div></div>',$a=Number.isNaN||L.isNaN;function u(t){return typeof t=="number"&&!$a(t)}var sa=function(s){return s>0&&s<1/0};function ms(t){return typeof t>"u"}function Q(t){return vs(t)==="object"&&t!==null}var Ga=Object.prototype.hasOwnProperty;function K(t){if(!Q(t))return!1;try{var s=t.constructor,n=s.prototype;return s&&n&&Ga.call(n,"isPrototypeOf")}catch{return!1}}function N(t){return typeof t=="function"}var Qa=Array.prototype.slice;function Fa(t){return Array.from?Array.from(t):Qa.call(t)}function B(t,s){return t&&N(s)&&(Array.isArray(t)||u(t.length)?Fa(t).forEach(function(n,a){s.call(t,n,a,t)}):Q(t)&&Object.keys(t).forEach(function(n){s.call(t,t[n],n,t)})),t}var b=Object.assign||function(s){for(var n=arguments.length,a=new Array(n>1?n-1:0),o=1;o<n;o++)a[o-1]=arguments[o];return Q(s)&&a.length>0&&a.forEach(function(e){Q(e)&&Object.keys(e).forEach(function(l){s[l]=e[l]})}),s},Za=/\.\d*(?:0|9){12}\d*$/;function ss(t){var s=arguments.length>1&&arguments[1]!==void 0?arguments[1]:1e11;return Za.test(t)?Math.round(t*s)/s:t}var Ka=/^width|height|left|top|marginLeft|marginTop$/;function z(t,s){var n=t.style;B(s,function(a,o){Ka.test(o)&&u(a)&&(a="".concat(a,"px")),n[o]=a})}function Ja(t,s){return t.classList?t.classList.contains(s):t.className.indexOf(s)>-1}function x(t,s){if(s){if(u(t.length)){B(t,function(a){x(a,s)});return}if(t.classList){t.classList.add(s);return}var n=t.className.trim();n?n.indexOf(s)<0&&(t.className="".concat(n," ").concat(s)):t.className=s}}function q(t,s){if(s){if(u(t.length)){B(t,function(n){q(n,s)});return}if(t.classList){t.classList.remove(s);return}t.className.indexOf(s)>=0&&(t.className=t.className.replace(s,""))}}function J(t,s,n){if(s){if(u(t.length)){B(t,function(a){J(a,s,n)});return}n?x(t,s):q(t,s)}}var sn=/([a-z\d])([A-Z])/g;function Ss(t){return t.replace(sn,"$1-$2").toLowerCase()}function Ts(t,s){return Q(t[s])?t[s]:t.dataset?t.dataset[s]:t.getAttribute("data-".concat(Ss(s)))}function is(t,s,n){Q(n)?t[s]=n:t.dataset?t.dataset[s]=n:t.setAttribute("data-".concat(Ss(s)),n)}function an(t,s){if(Q(t[s]))try{delete t[s]}catch{t[s]=void 0}else if(t.dataset)try{delete t.dataset[s]}catch{t.dataset[s]=void 0}else t.removeAttribute("data-".concat(Ss(s)))}var da=/\s\s*/,fa=function(){var t=!1;if(Fs){var s=!1,n=function(){},a=Object.defineProperty({},"once",{get:function(){return t=!0,s},set:function(e){s=e}});L.addEventListener("test",n,a),L.removeEventListener("test",n,a)}return t}();function I(t,s,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n;s.trim().split(da).forEach(function(e){if(!fa){var l=t.listeners;l&&l[e]&&l[e][n]&&(o=l[e][n],delete l[e][n],Object.keys(l[e]).length===0&&delete l[e],Object.keys(l).length===0&&delete t.listeners)}t.removeEventListener(e,o,a)})}function S(t,s,n){var a=arguments.length>3&&arguments[3]!==void 0?arguments[3]:{},o=n;s.trim().split(da).forEach(function(e){if(a.once&&!fa){var l=t.listeners,i=l===void 0?{}:l;o=function(){delete i[e][n],t.removeEventListener(e,o,a);for(var h=arguments.length,p=new Array(h),r=0;r<h;r++)p[r]=arguments[r];n.apply(t,p)},i[e]||(i[e]={}),i[e][n]&&t.removeEventListener(e,i[e][n],a),i[e][n]=o,t.listeners=i}t.addEventListener(e,o,a)})}function as(t,s,n){var a;return N(Event)&&N(CustomEvent)?a=new CustomEvent(s,{detail:n,bubbles:!0,cancelable:!0}):(a=document.createEvent("CustomEvent"),a.initCustomEvent(s,!0,!0,n)),t.dispatchEvent(a)}function ma(t){var s=t.getBoundingClientRect();return{left:s.left+(window.pageXOffset-document.documentElement.clientLeft),top:s.top+(window.pageYOffset-document.documentElement.clientTop)}}var gs=L.location,nn=/^(\w+:)\/\/([^:/?#]*):?(\d*)/i;function aa(t){var s=t.match(nn);return s!==null&&(s[1]!==gs.protocol||s[2]!==gs.hostname||s[3]!==gs.port)}function na(t){var s="timestamp=".concat(new Date().getTime());return t+(t.indexOf("?")===-1?"?":"&")+s}function rs(t){var s=t.rotate,n=t.scaleX,a=t.scaleY,o=t.translateX,e=t.translateY,l=[];u(o)&&o!==0&&l.push("translateX(".concat(o,"px)")),u(e)&&e!==0&&l.push("translateY(".concat(e,"px)")),u(s)&&s!==0&&l.push("rotate(".concat(s,"deg)")),u(n)&&n!==1&&l.push("scaleX(".concat(n,")")),u(a)&&a!==1&&l.push("scaleY(".concat(a,")"));var i=l.length?l.join(" "):"none";return{WebkitTransform:i,msTransform:i,transform:i}}function tn(t){var s=la({},t),n=0;return B(t,function(a,o){delete s[o],B(s,function(e){var l=Math.abs(a.startX-e.startX),i=Math.abs(a.startY-e.startY),D=Math.abs(a.endX-e.endX),h=Math.abs(a.endY-e.endY),p=Math.sqrt(l*l+i*i),r=Math.sqrt(D*D+h*h),c=(r-p)/p;Math.abs(c)>Math.abs(n)&&(n=c)})}),n}function ys(t,s){var n=t.pageX,a=t.pageY,o={endX:n,endY:a};return s?o:la({startX:n,startY:a},o)}function en(t){var s=0,n=0,a=0;return B(t,function(o){var e=o.startX,l=o.startY;s+=e,n+=l,a+=1}),s/=a,n/=a,{pageX:s,pageY:n}}function W(t){var s=t.aspectRatio,n=t.height,a=t.width,o=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"contain",e=sa(a),l=sa(n);if(e&&l){var i=n*s;o==="contain"&&i>a||o==="cover"&&i<a?n=a/s:a=n*s}else e?n=a/s:l&&(a=n*s);return{width:a,height:n}}function on(t){var s=t.width,n=t.height,a=t.degree;if(a=Math.abs(a)%180,a===90)return{width:n,height:s};var o=a%90*Math.PI/180,e=Math.sin(o),l=Math.cos(o),i=s*l+n*e,D=s*e+n*l;return a>90?{width:D,height:i}:{width:i,height:D}}function ln(t,s,n,a){var o=s.aspectRatio,e=s.naturalWidth,l=s.naturalHeight,i=s.rotate,D=i===void 0?0:i,h=s.scaleX,p=h===void 0?1:h,r=s.scaleY,c=r===void 0?1:r,d=n.aspectRatio,F=n.naturalWidth,g=n.naturalHeight,f=a.fillColor,A=f===void 0?"transparent":f,C=a.imageSmoothingEnabled,E=C===void 0?!0:C,P=a.imageSmoothingQuality,R=P===void 0?"low":P,y=a.maxWidth,m=y===void 0?1/0:y,w=a.maxHeight,_=w===void 0?1/0:w,X=a.minWidth,U=X===void 0?0:X,V=a.minHeight,Y=V===void 0?0:V,k=document.createElement("canvas"),T=k.getContext("2d"),j=W({aspectRatio:d,width:m,height:_}),cs=W({aspectRatio:d,width:U,height:Y},"cover"),ds=Math.min(j.width,Math.max(cs.width,F)),fs=Math.min(j.height,Math.max(cs.height,g)),Is=W({aspectRatio:o,width:m,height:_}),ks=W({aspectRatio:o,width:U,height:Y},"cover"),qs=Math.min(Is.width,Math.max(ks.width,e)),Ls=Math.min(Is.height,Math.max(ks.height,l)),ba=[-qs/2,-Ls/2,qs,Ls];return k.width=ss(ds),k.height=ss(fs),T.fillStyle=A,T.fillRect(0,0,ds,fs),T.save(),T.translate(ds/2,fs/2),T.rotate(D*Math.PI/180),T.scale(p,c),T.imageSmoothingEnabled=E,T.imageSmoothingQuality=R,T.drawImage.apply(T,[t].concat(ra(ba.map(function(Ea){return Math.floor(ss(Ea))})))),T.restore(),k}var ga=String.fromCharCode;function rn(t,s,n){var a="";n+=s;for(var o=s;o<n;o+=1)a+=ga(t.getUint8(o));return a}var pn=/^data:.*,/;function cn(t){var s=t.replace(pn,""),n=atob(s),a=new ArrayBuffer(n.length),o=new Uint8Array(a);return B(o,function(e,l){o[l]=n.charCodeAt(l)}),a}function hn(t,s){for(var n=[],a=8192,o=new Uint8Array(t);o.length>0;)n.push(ga.apply(null,Fa(o.subarray(0,a)))),o=o.subarray(a);return"data:".concat(s,";base64,").concat(btoa(n.join("")))}function Dn(t){var s=new DataView(t),n;try{var a,o,e;if(s.getUint8(0)===255&&s.getUint8(1)===216)for(var l=s.byteLength,i=2;i+1<l;){if(s.getUint8(i)===255&&s.getUint8(i+1)===225){o=i;break}i+=1}if(o){var D=o+4,h=o+10;if(rn(s,D,4)==="Exif"){var p=s.getUint16(h);if(a=p===18761,(a||p===19789)&&s.getUint16(h+2,a)===42){var r=s.getUint32(h+4,a);r>=8&&(e=h+r)}}}if(e){var c=s.getUint16(e,a),d,F;for(F=0;F<c;F+=1)if(d=e+F*12+2,s.getUint16(d,a)===274){d+=8,n=s.getUint16(d,a),s.setUint16(d,1,a);break}}}catch{n=1}return n}function yn(t){var s=0,n=1,a=1;switch(t){case 2:n=-1;break;case 3:s=-180;break;case 4:a=-1;break;case 5:s=90,a=-1;break;case 6:s=90;break;case 7:s=90,n=-1;break;case 8:s=-90;break}return{rotate:s,scaleX:n,scaleY:a}}var un={render:function(){this.initContainer(),this.initCanvas(),this.initCropBox(),this.renderCanvas(),this.cropped&&this.renderCropBox()},initContainer:function(){var s=this.element,n=this.options,a=this.container,o=this.cropper,e=Number(n.minContainerWidth),l=Number(n.minContainerHeight);x(o,O),q(s,O);var i={width:Math.max(a.offsetWidth,e>=0?e:ya),height:Math.max(a.offsetHeight,l>=0?l:ua)};this.containerData=i,z(o,{width:i.width,height:i.height}),x(s,O),q(o,O)},initCanvas:function(){var s=this.containerData,n=this.imageData,a=this.options.viewMode,o=Math.abs(n.rotate)%180===90,e=o?n.naturalHeight:n.naturalWidth,l=o?n.naturalWidth:n.naturalHeight,i=e/l,D=s.width,h=s.height;s.height*i>s.width?a===3?D=s.height*i:h=s.width/i:a===3?h=s.width/i:D=s.height*i;var p={aspectRatio:i,naturalWidth:e,naturalHeight:l,width:D,height:h};this.canvasData=p,this.limited=a===1||a===2,this.limitCanvas(!0,!0),p.width=Math.min(Math.max(p.width,p.minWidth),p.maxWidth),p.height=Math.min(Math.max(p.height,p.minHeight),p.maxHeight),p.left=(s.width-p.width)/2,p.top=(s.height-p.height)/2,p.oldLeft=p.left,p.oldTop=p.top,this.initialCanvasData=b({},p)},limitCanvas:function(s,n){var a=this.options,o=this.containerData,e=this.canvasData,l=this.cropBoxData,i=a.viewMode,D=e.aspectRatio,h=this.cropped&&l;if(s){var p=Number(a.minCanvasWidth)||0,r=Number(a.minCanvasHeight)||0;i>1?(p=Math.max(p,o.width),r=Math.max(r,o.height),i===3&&(r*D>p?p=r*D:r=p/D)):i>0&&(p?p=Math.max(p,h?l.width:0):r?r=Math.max(r,h?l.height:0):h&&(p=l.width,r=l.height,r*D>p?p=r*D:r=p/D));var c=W({aspectRatio:D,width:p,height:r});p=c.width,r=c.height,e.minWidth=p,e.minHeight=r,e.maxWidth=1/0,e.maxHeight=1/0}if(n)if(i>(h?0:1)){var d=o.width-e.width,F=o.height-e.height;e.minLeft=Math.min(0,d),e.minTop=Math.min(0,F),e.maxLeft=Math.max(0,d),e.maxTop=Math.max(0,F),h&&this.limited&&(e.minLeft=Math.min(l.left,l.left+(l.width-e.width)),e.minTop=Math.min(l.top,l.top+(l.height-e.height)),e.maxLeft=l.left,e.maxTop=l.top,i===2&&(e.width>=o.width&&(e.minLeft=Math.min(0,d),e.maxLeft=Math.max(0,d)),e.height>=o.height&&(e.minTop=Math.min(0,F),e.maxTop=Math.max(0,F))))}else e.minLeft=-e.width,e.minTop=-e.height,e.maxLeft=o.width,e.maxTop=o.height},renderCanvas:function(s,n){var a=this.canvasData,o=this.imageData;if(n){var e=on({width:o.naturalWidth*Math.abs(o.scaleX||1),height:o.naturalHeight*Math.abs(o.scaleY||1),degree:o.rotate||0}),l=e.width,i=e.height,D=a.width*(l/a.naturalWidth),h=a.height*(i/a.naturalHeight);a.left-=(D-a.width)/2,a.top-=(h-a.height)/2,a.width=D,a.height=h,a.aspectRatio=l/i,a.naturalWidth=l,a.naturalHeight=i,this.limitCanvas(!0,!1)}(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCanvas(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,z(this.canvas,b({width:a.width,height:a.height},rs({translateX:a.left,translateY:a.top}))),this.renderImage(s),this.cropped&&this.limited&&this.limitCropBox(!0,!0)},renderImage:function(s){var n=this.canvasData,a=this.imageData,o=a.naturalWidth*(n.width/n.naturalWidth),e=a.naturalHeight*(n.height/n.naturalHeight);b(a,{width:o,height:e,left:(n.width-o)/2,top:(n.height-e)/2}),z(this.image,b({width:a.width,height:a.height},rs(b({translateX:a.left,translateY:a.top},a)))),s&&this.output()},initCropBox:function(){var s=this.options,n=this.canvasData,a=s.aspectRatio||s.initialAspectRatio,o=Number(s.autoCropArea)||.8,e={width:n.width,height:n.height};a&&(n.height*a>n.width?e.height=e.width/a:e.width=e.height*a),this.cropBoxData=e,this.limitCropBox(!0,!0),e.width=Math.min(Math.max(e.width,e.minWidth),e.maxWidth),e.height=Math.min(Math.max(e.height,e.minHeight),e.maxHeight),e.width=Math.max(e.minWidth,e.width*o),e.height=Math.max(e.minHeight,e.height*o),e.left=n.left+(n.width-e.width)/2,e.top=n.top+(n.height-e.height)/2,e.oldLeft=e.left,e.oldTop=e.top,this.initialCropBoxData=b({},e)},limitCropBox:function(s,n){var a=this.options,o=this.containerData,e=this.canvasData,l=this.cropBoxData,i=this.limited,D=a.aspectRatio;if(s){var h=Number(a.minCropBoxWidth)||0,p=Number(a.minCropBoxHeight)||0,r=i?Math.min(o.width,e.width,e.width+e.left,o.width-e.left):o.width,c=i?Math.min(o.height,e.height,e.height+e.top,o.height-e.top):o.height;h=Math.min(h,o.width),p=Math.min(p,o.height),D&&(h&&p?p*D>h?p=h/D:h=p*D:h?p=h/D:p&&(h=p*D),c*D>r?c=r/D:r=c*D),l.minWidth=Math.min(h,r),l.minHeight=Math.min(p,c),l.maxWidth=r,l.maxHeight=c}n&&(i?(l.minLeft=Math.max(0,e.left),l.minTop=Math.max(0,e.top),l.maxLeft=Math.min(o.width,e.left+e.width)-l.width,l.maxTop=Math.min(o.height,e.top+e.height)-l.height):(l.minLeft=0,l.minTop=0,l.maxLeft=o.width-l.width,l.maxTop=o.height-l.height))},renderCropBox:function(){var s=this.options,n=this.containerData,a=this.cropBoxData;(a.width>a.maxWidth||a.width<a.minWidth)&&(a.left=a.oldLeft),(a.height>a.maxHeight||a.height<a.minHeight)&&(a.top=a.oldTop),a.width=Math.min(Math.max(a.width,a.minWidth),a.maxWidth),a.height=Math.min(Math.max(a.height,a.minHeight),a.maxHeight),this.limitCropBox(!1,!0),a.left=Math.min(Math.max(a.left,a.minLeft),a.maxLeft),a.top=Math.min(Math.max(a.top,a.minTop),a.maxTop),a.oldLeft=a.left,a.oldTop=a.top,s.movable&&s.cropBoxMovable&&is(this.face,ps,a.width>=n.width&&a.height>=n.height?ia:Rs),z(this.cropBox,b({width:a.width,height:a.height},rs({translateX:a.left,translateY:a.top}))),this.cropped&&this.limited&&this.limitCanvas(!0,!0),this.disabled||this.output()},output:function(){this.preview(),as(this.element,As,this.getData())}},Fn={initPreview:function(){var s=this.element,n=this.crossOrigin,a=this.options.preview,o=n?this.crossOriginUrl:this.url,e=s.alt||"The image to preview",l=document.createElement("img");if(n&&(l.crossOrigin=n),l.src=o,l.alt=e,this.viewBox.appendChild(l),this.viewBoxImage=l,!!a){var i=a;typeof a=="string"?i=s.ownerDocument.querySelectorAll(a):a.querySelector&&(i=[a]),this.previews=i,B(i,function(D){var h=document.createElement("img");is(D,Ds,{width:D.offsetWidth,height:D.offsetHeight,html:D.innerHTML}),n&&(h.crossOrigin=n),h.src=o,h.alt=e,h.style.cssText='display:block;width:100%;height:auto;min-width:0!important;min-height:0!important;max-width:none!important;max-height:none!important;image-orientation:0deg!important;"',D.innerHTML="",D.appendChild(h)})}},resetPreview:function(){B(this.previews,function(s){var n=Ts(s,Ds);z(s,{width:n.width,height:n.height}),s.innerHTML=n.html,an(s,Ds)})},preview:function(){var s=this.imageData,n=this.canvasData,a=this.cropBoxData,o=a.width,e=a.height,l=s.width,i=s.height,D=a.left-n.left-s.left,h=a.top-n.top-s.top;!this.cropped||this.disabled||(z(this.viewBoxImage,b({width:l,height:i},rs(b({translateX:-D,translateY:-h},s)))),B(this.previews,function(p){var r=Ts(p,Ds),c=r.width,d=r.height,F=c,g=d,f=1;o&&(f=c/o,g=e*f),e&&g>d&&(f=d/e,F=o*f,g=d),z(p,{width:F,height:g}),z(p.getElementsByTagName("img")[0],b({width:l*f,height:i*f},rs(b({translateX:-D*f,translateY:-h*f},s))))}))}},dn={bind:function(){var s=this.element,n=this.options,a=this.cropper;N(n.cropstart)&&S(s,xs,n.cropstart),N(n.cropmove)&&S(s,Cs,n.cropmove),N(n.cropend)&&S(s,ws,n.cropend),N(n.crop)&&S(s,As,n.crop),N(n.zoom)&&S(s,Ms,n.zoom),S(a,Vs,this.onCropStart=this.cropStart.bind(this)),n.zoomable&&n.zoomOnWheel&&S(a,Zs,this.onWheel=this.wheel.bind(this),{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&S(a,Us,this.onDblclick=this.dblclick.bind(this)),S(s.ownerDocument,js,this.onCropMove=this.cropMove.bind(this)),S(s.ownerDocument,$s,this.onCropEnd=this.cropEnd.bind(this)),n.responsive&&S(window,Qs,this.onResize=this.resize.bind(this))},unbind:function(){var s=this.element,n=this.options,a=this.cropper;N(n.cropstart)&&I(s,xs,n.cropstart),N(n.cropmove)&&I(s,Cs,n.cropmove),N(n.cropend)&&I(s,ws,n.cropend),N(n.crop)&&I(s,As,n.crop),N(n.zoom)&&I(s,Ms,n.zoom),I(a,Vs,this.onCropStart),n.zoomable&&n.zoomOnWheel&&I(a,Zs,this.onWheel,{passive:!1,capture:!0}),n.toggleDragModeOnDblclick&&I(a,Us,this.onDblclick),I(s.ownerDocument,js,this.onCropMove),I(s.ownerDocument,$s,this.onCropEnd),n.responsive&&I(window,Qs,this.onResize)}},fn={resize:function(){if(!this.disabled){var s=this.options,n=this.container,a=this.containerData,o=n.offsetWidth/a.width,e=n.offsetHeight/a.height,l=Math.abs(o-1)>Math.abs(e-1)?o:e;if(l!==1){var i,D;s.restore&&(i=this.getCanvasData(),D=this.getCropBoxData()),this.render(),s.restore&&(this.setCanvasData(B(i,function(h,p){i[p]=h*l})),this.setCropBoxData(B(D,function(h,p){D[p]=h*l})))}}},dblclick:function(){this.disabled||this.options.dragMode===Da||this.setDragMode(Ja(this.dragBox,Es)?ha:_s)},wheel:function(s){var n=this,a=Number(this.options.wheelZoomRatio)||.1,o=1;this.disabled||(s.preventDefault(),!this.wheeling&&(this.wheeling=!0,setTimeout(function(){n.wheeling=!1},50),s.deltaY?o=s.deltaY>0?1:-1:s.wheelDelta?o=-s.wheelDelta/120:s.detail&&(o=s.detail>0?1:-1),this.zoom(-o*a,s)))},cropStart:function(s){var n=s.buttons,a=s.button;if(!(this.disabled||(s.type==="mousedown"||s.type==="pointerdown"&&s.pointerType==="mouse")&&(u(n)&&n!==1||u(a)&&a!==0||s.ctrlKey))){var o=this.options,e=this.pointers,l;s.changedTouches?B(s.changedTouches,function(i){e[i.identifier]=ys(i)}):e[s.pointerId||0]=ys(s),Object.keys(e).length>1&&o.zoomable&&o.zoomOnTouch?l=ca:l=Ts(s.target,ps),za.test(l)&&as(this.element,xs,{originalEvent:s,action:l})!==!1&&(s.preventDefault(),this.action=l,this.cropping=!1,l===pa&&(this.cropping=!0,x(this.dragBox,us)))}},cropMove:function(s){var n=this.action;if(!(this.disabled||!n)){var a=this.pointers;s.preventDefault(),as(this.element,Cs,{originalEvent:s,action:n})!==!1&&(s.changedTouches?B(s.changedTouches,function(o){b(a[o.identifier]||{},ys(o,!0))}):b(a[s.pointerId||0]||{},ys(s,!0)),this.change(s))}},cropEnd:function(s){if(!this.disabled){var n=this.action,a=this.pointers;s.changedTouches?B(s.changedTouches,function(o){delete a[o.identifier]}):delete a[s.pointerId||0],n&&(s.preventDefault(),Object.keys(a).length||(this.action=""),this.cropping&&(this.cropping=!1,J(this.dragBox,us,this.cropped&&this.options.modal)),as(this.element,ws,{originalEvent:s,action:n}))}}},mn={change:function(s){var n=this.options,a=this.canvasData,o=this.containerData,e=this.cropBoxData,l=this.pointers,i=this.action,D=n.aspectRatio,h=e.left,p=e.top,r=e.width,c=e.height,d=h+r,F=p+c,g=0,f=0,A=o.width,C=o.height,E=!0,P;!D&&s.shiftKey&&(D=r&&c?r/c:1),this.limited&&(g=e.minLeft,f=e.minTop,A=g+Math.min(o.width,a.width,a.left+a.width),C=f+Math.min(o.height,a.height,a.top+a.height));var R=l[Object.keys(l)[0]],y={x:R.endX-R.startX,y:R.endY-R.startY},m=function(_){switch(_){case $:d+y.x>A&&(y.x=A-d);break;case G:h+y.x<g&&(y.x=g-h);break;case H:p+y.y<f&&(y.y=f-p);break;case Z:F+y.y>C&&(y.y=C-F);break}};switch(i){case Rs:h+=y.x,p+=y.y;break;case $:if(y.x>=0&&(d>=A||D&&(p<=f||F>=C))){E=!1;break}m($),r+=y.x,r<0&&(i=G,r=-r,h-=r),D&&(c=r/D,p+=(e.height-c)/2);break;case H:if(y.y<=0&&(p<=f||D&&(h<=g||d>=A))){E=!1;break}m(H),c-=y.y,p+=y.y,c<0&&(i=Z,c=-c,p-=c),D&&(r=c*D,h+=(e.width-r)/2);break;case G:if(y.x<=0&&(h<=g||D&&(p<=f||F>=C))){E=!1;break}m(G),r-=y.x,h+=y.x,r<0&&(i=$,r=-r,h-=r),D&&(c=r/D,p+=(e.height-c)/2);break;case Z:if(y.y>=0&&(F>=C||D&&(h<=g||d>=A))){E=!1;break}m(Z),c+=y.y,c<0&&(i=H,c=-c,p-=c),D&&(r=c*D,h+=(e.width-r)/2);break;case ts:if(D){if(y.y<=0&&(p<=f||d>=A)){E=!1;break}m(H),c-=y.y,p+=y.y,r=c*D}else m(H),m($),y.x>=0?d<A?r+=y.x:y.y<=0&&p<=f&&(E=!1):r+=y.x,y.y<=0?p>f&&(c-=y.y,p+=y.y):(c-=y.y,p+=y.y);r<0&&c<0?(i=ls,c=-c,r=-r,p-=c,h-=r):r<0?(i=es,r=-r,h-=r):c<0&&(i=os,c=-c,p-=c);break;case es:if(D){if(y.y<=0&&(p<=f||h<=g)){E=!1;break}m(H),c-=y.y,p+=y.y,r=c*D,h+=e.width-r}else m(H),m(G),y.x<=0?h>g?(r-=y.x,h+=y.x):y.y<=0&&p<=f&&(E=!1):(r-=y.x,h+=y.x),y.y<=0?p>f&&(c-=y.y,p+=y.y):(c-=y.y,p+=y.y);r<0&&c<0?(i=os,c=-c,r=-r,p-=c,h-=r):r<0?(i=ts,r=-r,h-=r):c<0&&(i=ls,c=-c,p-=c);break;case ls:if(D){if(y.x<=0&&(h<=g||F>=C)){E=!1;break}m(G),r-=y.x,h+=y.x,c=r/D}else m(Z),m(G),y.x<=0?h>g?(r-=y.x,h+=y.x):y.y>=0&&F>=C&&(E=!1):(r-=y.x,h+=y.x),y.y>=0?F<C&&(c+=y.y):c+=y.y;r<0&&c<0?(i=ts,c=-c,r=-r,p-=c,h-=r):r<0?(i=os,r=-r,h-=r):c<0&&(i=es,c=-c,p-=c);break;case os:if(D){if(y.x>=0&&(d>=A||F>=C)){E=!1;break}m($),r+=y.x,c=r/D}else m(Z),m($),y.x>=0?d<A?r+=y.x:y.y>=0&&F>=C&&(E=!1):r+=y.x,y.y>=0?F<C&&(c+=y.y):c+=y.y;r<0&&c<0?(i=es,c=-c,r=-r,p-=c,h-=r):r<0?(i=ls,r=-r,h-=r):c<0&&(i=ts,c=-c,p-=c);break;case ia:this.move(y.x,y.y),E=!1;break;case ca:this.zoom(tn(l),s),E=!1;break;case pa:if(!y.x||!y.y){E=!1;break}P=ma(this.cropper),h=R.startX-P.left,p=R.startY-P.top,r=e.minWidth,c=e.minHeight,y.x>0?i=y.y>0?os:ts:y.x<0&&(h-=r,i=y.y>0?ls:es),y.y<0&&(p-=c),this.cropped||(q(this.cropBox,O),this.cropped=!0,this.limited&&this.limitCropBox(!0,!0));break}E&&(e.width=r,e.height=c,e.left=h,e.top=p,this.action=i,this.renderCropBox()),B(l,function(w){w.startX=w.endX,w.startY=w.endY})}},gn={crop:function(){return this.ready&&!this.cropped&&!this.disabled&&(this.cropped=!0,this.limitCropBox(!0,!0),this.options.modal&&x(this.dragBox,us),q(this.cropBox,O),this.setCropBoxData(this.initialCropBoxData)),this},reset:function(){return this.ready&&!this.disabled&&(this.imageData=b({},this.initialImageData),this.canvasData=b({},this.initialCanvasData),this.cropBoxData=b({},this.initialCropBoxData),this.renderCanvas(),this.cropped&&this.renderCropBox()),this},clear:function(){return this.cropped&&!this.disabled&&(b(this.cropBoxData,{left:0,top:0,width:0,height:0}),this.cropped=!1,this.renderCropBox(),this.limitCanvas(!0,!0),this.renderCanvas(),q(this.dragBox,us),x(this.cropBox,O)),this},replace:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1;return!this.disabled&&s&&(this.isImg&&(this.element.src=s),n?(this.url=s,this.image.src=s,this.ready&&(this.viewBoxImage.src=s,B(this.previews,function(a){a.getElementsByTagName("img")[0].src=s}))):(this.isImg&&(this.replaced=!0),this.options.data=null,this.uncreate(),this.load(s))),this},enable:function(){return this.ready&&this.disabled&&(this.disabled=!1,q(this.cropper,zs)),this},disable:function(){return this.ready&&!this.disabled&&(this.disabled=!0,x(this.cropper,zs)),this},destroy:function(){var s=this.element;return s[v]?(s[v]=void 0,this.isImg&&this.replaced&&(s.src=this.originalUrl),this.uncreate(),this):this},move:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,a=this.canvasData,o=a.left,e=a.top;return this.moveTo(ms(s)?s:o+Number(s),ms(n)?n:e+Number(n))},moveTo:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,a=this.canvasData,o=!1;return s=Number(s),n=Number(n),this.ready&&!this.disabled&&this.options.movable&&(u(s)&&(a.left=s,o=!0),u(n)&&(a.top=n,o=!0),o&&this.renderCanvas(!0)),this},zoom:function(s,n){var a=this.canvasData;return s=Number(s),s<0?s=1/(1-s):s=1+s,this.zoomTo(a.width*s/a.naturalWidth,null,n)},zoomTo:function(s,n,a){var o=this.options,e=this.canvasData,l=e.width,i=e.height,D=e.naturalWidth,h=e.naturalHeight;if(s=Number(s),s>=0&&this.ready&&!this.disabled&&o.zoomable){var p=D*s,r=h*s;if(as(this.element,Ms,{ratio:s,oldRatio:l/D,originalEvent:a})===!1)return this;if(a){var c=this.pointers,d=ma(this.cropper),F=c&&Object.keys(c).length?en(c):{pageX:a.pageX,pageY:a.pageY};e.left-=(p-l)*((F.pageX-d.left-e.left)/l),e.top-=(r-i)*((F.pageY-d.top-e.top)/i)}else K(n)&&u(n.x)&&u(n.y)?(e.left-=(p-l)*((n.x-e.left)/l),e.top-=(r-i)*((n.y-e.top)/i)):(e.left-=(p-l)/2,e.top-=(r-i)/2);e.width=p,e.height=r,this.renderCanvas(!0)}return this},rotate:function(s){return this.rotateTo((this.imageData.rotate||0)+Number(s))},rotateTo:function(s){return s=Number(s),u(s)&&this.ready&&!this.disabled&&this.options.rotatable&&(this.imageData.rotate=s%360,this.renderCanvas(!0,!0)),this},scaleX:function(s){var n=this.imageData.scaleY;return this.scale(s,u(n)?n:1)},scaleY:function(s){var n=this.imageData.scaleX;return this.scale(u(n)?n:1,s)},scale:function(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:s,a=this.imageData,o=!1;return s=Number(s),n=Number(n),this.ready&&!this.disabled&&this.options.scalable&&(u(s)&&(a.scaleX=s,o=!0),u(n)&&(a.scaleY=n,o=!0),o&&this.renderCanvas(!0,!0)),this},getData:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:!1,n=this.options,a=this.imageData,o=this.canvasData,e=this.cropBoxData,l;if(this.ready&&this.cropped){l={x:e.left-o.left,y:e.top-o.top,width:e.width,height:e.height};var i=a.width/a.naturalWidth;if(B(l,function(p,r){l[r]=p/i}),s){var D=Math.round(l.y+l.height),h=Math.round(l.x+l.width);l.x=Math.round(l.x),l.y=Math.round(l.y),l.width=h-l.x,l.height=D-l.y}}else l={x:0,y:0,width:0,height:0};return n.rotatable&&(l.rotate=a.rotate||0),n.scalable&&(l.scaleX=a.scaleX||1,l.scaleY=a.scaleY||1),l},setData:function(s){var n=this.options,a=this.imageData,o=this.canvasData,e={};if(this.ready&&!this.disabled&&K(s)){var l=!1;n.rotatable&&u(s.rotate)&&s.rotate!==a.rotate&&(a.rotate=s.rotate,l=!0),n.scalable&&(u(s.scaleX)&&s.scaleX!==a.scaleX&&(a.scaleX=s.scaleX,l=!0),u(s.scaleY)&&s.scaleY!==a.scaleY&&(a.scaleY=s.scaleY,l=!0)),l&&this.renderCanvas(!0,!0);var i=a.width/a.naturalWidth;u(s.x)&&(e.left=s.x*i+o.left),u(s.y)&&(e.top=s.y*i+o.top),u(s.width)&&(e.width=s.width*i),u(s.height)&&(e.height=s.height*i),this.setCropBoxData(e)}return this},getContainerData:function(){return this.ready?b({},this.containerData):{}},getImageData:function(){return this.sized?b({},this.imageData):{}},getCanvasData:function(){var s=this.canvasData,n={};return this.ready&&B(["left","top","width","height","naturalWidth","naturalHeight"],function(a){n[a]=s[a]}),n},setCanvasData:function(s){var n=this.canvasData,a=n.aspectRatio;return this.ready&&!this.disabled&&K(s)&&(u(s.left)&&(n.left=s.left),u(s.top)&&(n.top=s.top),u(s.width)?(n.width=s.width,n.height=s.width/a):u(s.height)&&(n.height=s.height,n.width=s.height*a),this.renderCanvas(!0)),this},getCropBoxData:function(){var s=this.cropBoxData,n;return this.ready&&this.cropped&&(n={left:s.left,top:s.top,width:s.width,height:s.height}),n||{}},setCropBoxData:function(s){var n=this.cropBoxData,a=this.options.aspectRatio,o,e;return this.ready&&this.cropped&&!this.disabled&&K(s)&&(u(s.left)&&(n.left=s.left),u(s.top)&&(n.top=s.top),u(s.width)&&s.width!==n.width&&(o=!0,n.width=s.width),u(s.height)&&s.height!==n.height&&(e=!0,n.height=s.height),a&&(o?n.height=n.width/a:e&&(n.width=n.height*a)),this.renderCropBox()),this},getCroppedCanvas:function(){var s=arguments.length>0&&arguments[0]!==void 0?arguments[0]:{};if(!this.ready||!window.HTMLCanvasElement)return null;var n=this.canvasData,a=ln(this.image,this.imageData,n,s);if(!this.cropped)return a;var o=this.getData(),e=o.x,l=o.y,i=o.width,D=o.height,h=a.width/Math.floor(n.naturalWidth);h!==1&&(e*=h,l*=h,i*=h,D*=h);var p=i/D,r=W({aspectRatio:p,width:s.maxWidth||1/0,height:s.maxHeight||1/0}),c=W({aspectRatio:p,width:s.minWidth||0,height:s.minHeight||0},"cover"),d=W({aspectRatio:p,width:s.width||(h!==1?a.width:i),height:s.height||(h!==1?a.height:D)}),F=d.width,g=d.height;F=Math.min(r.width,Math.max(c.width,F)),g=Math.min(r.height,Math.max(c.height,g));var f=document.createElement("canvas"),A=f.getContext("2d");f.width=ss(F),f.height=ss(g),A.fillStyle=s.fillColor||"transparent",A.fillRect(0,0,F,g);var C=s.imageSmoothingEnabled,E=C===void 0?!0:C,P=s.imageSmoothingQuality;A.imageSmoothingEnabled=E,P&&(A.imageSmoothingQuality=P);var R=a.width,y=a.height,m=e,w=l,_,X,U,V,Y,k;m<=-i||m>R?(m=0,_=0,U=0,Y=0):m<=0?(U=-m,m=0,_=Math.min(R,i+m),Y=_):m<=R&&(U=0,_=Math.min(i,R-m),Y=_),_<=0||w<=-D||w>y?(w=0,X=0,V=0,k=0):w<=0?(V=-w,w=0,X=Math.min(y,D+w),k=X):w<=y&&(V=0,X=Math.min(D,y-w),k=X);var T=[m,w,_,X];if(Y>0&&k>0){var j=F/i;T.push(U*j,V*j,Y*j,k*j)}return A.drawImage.apply(A,[a].concat(ra(T.map(function(cs){return Math.floor(ss(cs))})))),f},setAspectRatio:function(s){var n=this.options;return!this.disabled&&!ms(s)&&(n.aspectRatio=Math.max(0,s)||NaN,this.ready&&(this.initCropBox(),this.cropped&&this.renderCropBox())),this},setDragMode:function(s){var n=this.options,a=this.dragBox,o=this.face;if(this.ready&&!this.disabled){var e=s===_s,l=n.movable&&s===ha;s=e||l?s:Da,n.dragMode=s,is(a,ps,s),J(a,Es,e),J(a,Bs,l),n.cropBoxMovable||(is(o,ps,s),J(o,Es,e),J(o,Bs,l))}return this}},vn=L.Cropper,va=function(){function t(s){var n=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(Ra(this,t),!s||!Va.test(s.tagName))throw new Error("The first argument is required and must be an <img> or <canvas> element.");this.element=s,this.options=b({},Js,K(n)&&n),this.cropped=!1,this.disabled=!1,this.pointers={},this.ready=!1,this.reloading=!1,this.replaced=!1,this.sized=!1,this.sizing=!1,this.init()}return _a(t,[{key:"init",value:function(){var n=this.element,a=n.tagName.toLowerCase(),o;if(!n[v]){if(n[v]=this,a==="img"){if(this.isImg=!0,o=n.getAttribute("src")||"",this.originalUrl=o,!o)return;o=n.src}else a==="canvas"&&window.HTMLCanvasElement&&(o=n.toDataURL());this.load(o)}}},{key:"load",value:function(n){var a=this;if(n){this.url=n,this.imageData={};var o=this.element,e=this.options;if(!e.rotatable&&!e.scalable&&(e.checkOrientation=!1),!e.checkOrientation||!window.ArrayBuffer){this.clone();return}if(Wa.test(n)){Ua.test(n)?this.read(cn(n)):this.clone();return}var l=new XMLHttpRequest,i=this.clone.bind(this);this.reloading=!0,this.xhr=l,l.onabort=i,l.onerror=i,l.ontimeout=i,l.onprogress=function(){l.getResponseHeader("content-type")!==Ks&&l.abort()},l.onload=function(){a.read(l.response)},l.onloadend=function(){a.reloading=!1,a.xhr=null},e.checkCrossOrigin&&aa(n)&&o.crossOrigin&&(n=na(n)),l.open("GET",n,!0),l.responseType="arraybuffer",l.withCredentials=o.crossOrigin==="use-credentials",l.send()}}},{key:"read",value:function(n){var a=this.options,o=this.imageData,e=Dn(n),l=0,i=1,D=1;if(e>1){this.url=hn(n,Ks);var h=yn(e);l=h.rotate,i=h.scaleX,D=h.scaleY}a.rotatable&&(o.rotate=l),a.scalable&&(o.scaleX=i,o.scaleY=D),this.clone()}},{key:"clone",value:function(){var n=this.element,a=this.url,o=n.crossOrigin,e=a;this.options.checkCrossOrigin&&aa(a)&&(o||(o="anonymous"),e=na(a)),this.crossOrigin=o,this.crossOriginUrl=e;var l=document.createElement("img");o&&(l.crossOrigin=o),l.src=e||a,l.alt=n.alt||"The image to crop",this.image=l,l.onload=this.start.bind(this),l.onerror=this.stop.bind(this),x(l,Ws),n.parentNode.insertBefore(l,n.nextSibling)}},{key:"start",value:function(){var n=this,a=this.image;a.onload=null,a.onerror=null,this.sizing=!0;var o=L.navigator&&/(?:iPad|iPhone|iPod).*?AppleWebKit/i.test(L.navigator.userAgent),e=function(h,p){b(n.imageData,{naturalWidth:h,naturalHeight:p,aspectRatio:h/p}),n.initialImageData=b({},n.imageData),n.sizing=!1,n.sized=!0,n.build()};if(a.naturalWidth&&!o){e(a.naturalWidth,a.naturalHeight);return}var l=document.createElement("img"),i=document.body||document.documentElement;this.sizingImage=l,l.onload=function(){e(l.width,l.height),o||i.removeChild(l)},l.src=a.src,o||(l.style.cssText="left:0;max-height:none!important;max-width:none!important;min-height:0!important;min-width:0!important;opacity:0;position:absolute;top:0;z-index:-1;",i.appendChild(l))}},{key:"stop",value:function(){var n=this.image;n.onload=null,n.onerror=null,n.parentNode.removeChild(n),this.image=null}},{key:"build",value:function(){if(!(!this.sized||this.ready)){var n=this.element,a=this.options,o=this.image,e=n.parentNode,l=document.createElement("div");l.innerHTML=ja;var i=l.querySelector(".".concat(v,"-container")),D=i.querySelector(".".concat(v,"-canvas")),h=i.querySelector(".".concat(v,"-drag-box")),p=i.querySelector(".".concat(v,"-crop-box")),r=p.querySelector(".".concat(v,"-face"));this.container=e,this.cropper=i,this.canvas=D,this.dragBox=h,this.cropBox=p,this.viewBox=i.querySelector(".".concat(v,"-view-box")),this.face=r,D.appendChild(o),x(n,O),e.insertBefore(i,n.nextSibling),q(o,Ws),this.initPreview(),this.bind(),a.initialAspectRatio=Math.max(0,a.initialAspectRatio)||NaN,a.aspectRatio=Math.max(0,a.aspectRatio)||NaN,a.viewMode=Math.max(0,Math.min(3,Math.round(a.viewMode)))||0,x(p,O),a.guides||x(p.getElementsByClassName("".concat(v,"-dashed")),O),a.center||x(p.getElementsByClassName("".concat(v,"-center")),O),a.background&&x(i,"".concat(v,"-bg")),a.highlight||x(r,Pa),a.cropBoxMovable&&(x(r,Bs),is(r,ps,Rs)),a.cropBoxResizable||(x(p.getElementsByClassName("".concat(v,"-line")),O),x(p.getElementsByClassName("".concat(v,"-point")),O)),this.render(),this.ready=!0,this.setDragMode(a.dragMode),a.autoCrop&&this.crop(),this.setData(a.data),N(a.ready)&&S(n,Gs,a.ready,{once:!0}),as(n,Gs)}}},{key:"unbuild",value:function(){if(this.ready){this.ready=!1,this.unbind(),this.resetPreview();var n=this.cropper.parentNode;n&&n.removeChild(this.cropper),q(this.element,O)}}},{key:"uncreate",value:function(){this.ready?(this.unbuild(),this.ready=!1,this.cropped=!1):this.sizing?(this.sizingImage.onload=null,this.sizing=!1,this.sized=!1):this.reloading?(this.xhr.onabort=null,this.xhr.abort()):this.image&&this.stop()}}],[{key:"noConflict",value:function(){return window.Cropper=vn,t}},{key:"setDefaults",value:function(n){b(Js,K(n)&&n)}}]),t}();b(va.prototype,un,Fn,dn,fn,mn,gn);const bn={class:"mt-20"},En={class:"flex flex-col mb-20"},Bn={class:"w-full flex items-center justify-between"},An=oa(" 上传 "),wn={class:"mt-20 flex items-center"},Cn=M("div",{class:"flex-1"},null,-1),xn=["src"],Mn=Ba({__name:"cropper",setup(t){const s=ns(null),n=ns(""),a=ns(NaN),o=ns(),e=ns(null);Aa(async()=>{await wa(),l()});async function l(){e.value=new va(s.value,{aspectRatio:a.value,minContainerWidth:688,minContainerHeight:688,crop(p){console.log(p.detail.x),console.log(p.detail.y),console.log(p.detail.width),console.log(p.detail.height),console.log(p.detail.rotate),console.log(p.detail.scaleX),console.log(p.detail.scaleY)}})}const i=Ca(()=>n.value||Xs);Ps(()=>n.value,()=>{n.value?e.value.replace(n.value):e.value.replace(Xs)}),Ps(()=>a.value,()=>{e.value.setAspectRatio(a.value)});async function D(){const p=e.value.getCroppedCanvas(),r=new Image;r.src=p.toDataURL("image/png");const c=document.createElement("a");c.href=r.src,c.download="cropped.png",c.click()}async function h(p){const r=p.target.files[0],c=new FileReader;c.readAsDataURL(r),c.onload=()=>{e.value.replace(c.result)}}return(p,r)=>(ta(),ea("div",bn,[M("div",En,[M("div",Bn,[xa(M("input",{"onUpdate:modelValue":r[0]||(r[0]=c=>n.value=c),class:"flex-1 mr-10 border border-primary border-solid rounded-4 py-3.8 px-9",type:"text",placeholder:"输入图片地址或上传图片"},null,512),[[Ma,n.value]]),M("button",{class:"btn border border-primary",onClick:r[1]||(r[1]=(...c)=>o.value.click&&o.value.click(...c))},[M("input",{ref_key:"fileInput",ref:o,class:"display-none",type:"file",accept:"image/*",onChange:h},null,544),An])]),M("div",wn,[M("button",{class:hs(["btn border border-primary border-solid mr-10",a.value?"!bg-transparent":""]),onClick:r[2]||(r[2]=c=>a.value=NaN)}," 默认 ",2),M("button",{class:hs(["btn border border-primary border-solid mr-10",a.value===16/9?"":"!bg-transparent"]),onClick:r[3]||(r[3]=c=>a.value=16/9)}," 16 / 9 ",2),M("button",{class:hs(["btn border border-primary border-solid mr-10",a.value===4/3?"":"!bg-transparent"]),onClick:r[4]||(r[4]=c=>a.value=4/3)}," 4 / 3 ",2),M("button",{class:hs(["btn border border-primary border-solid mr-10",a.value===1/1?"":"!bg-transparent"]),onClick:r[5]||(r[5]=c=>a.value=1/1)}," 1 / 1 ",2),Cn,M("button",{class:"btn",onClick:D},"下载")])]),M("img",{ref_key:"image",ref:s,src:Ta(i)},null,8,xn)]))}}),Tn=M("h1",{id:"预览效果",tabindex:"-1"},[oa("预览效果 "),M("a",{class:"header-anchor",href:"#预览效果","aria-label":'Permalink to "预览效果"'},"​")],-1),Nn=Oa(`<h2 id="代码实现" tabindex="-1">代码实现 <a class="header-anchor" href="#代码实现" aria-label="Permalink to &quot;代码实现&quot;">​</a></h2><div class="language-vue line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">vue</span><pre class="shiki material-theme-palenight"><code><span class="line"><span style="color:#676E95;font-style:italic;">&lt;!-- eslint-disable no-console --&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">script</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">setup</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">ts</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cropperjs/dist/cropper.css</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> localImg </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">/logo.png</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> Cropper </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cropperjs</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#89DDFF;font-style:italic;">import</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">computed</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">nextTick</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">onMounted</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">ref</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">watch</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">}</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;font-style:italic;">from</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">vue</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> image </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">null</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> defaultImg </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">&#39;&#39;</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> aspectRatio </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">NaN</span><span style="color:#BABED8;">)</span></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> fileInput </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#BABED8;">()</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> cropper </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">ref</span><span style="color:#89DDFF;">&lt;</span><span style="color:#FFCB6B;">Cropper</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">null</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">onMounted</span><span style="color:#BABED8;">(</span><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;font-style:italic;">await</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">nextTick</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#82AAFF;">register</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">register</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Cropper</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">image</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">,</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    aspectRatio</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">aspectRatio</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    minContainerWidth</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">688</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    minContainerHeight</span><span style="color:#89DDFF;">:</span><span style="color:#F07178;"> </span><span style="color:#F78C6C;">688</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#F07178;">    crop</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">event</span><span style="color:#89DDFF;">)</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">event</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">x</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">event</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">y</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">event</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">width</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">event</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">height</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">event</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">rotate</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">event</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">scaleX</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">console</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">log</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">event</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">detail</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">scaleY</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">const</span><span style="color:#BABED8;"> imgSrc </span><span style="color:#89DDFF;">=</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">computed</span><span style="color:#BABED8;">(</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> defaultImg</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value </span><span style="color:#89DDFF;">||</span><span style="color:#BABED8;"> localImg)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> defaultImg</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">if</span><span style="color:#F07178;"> (</span><span style="color:#BABED8;">defaultImg</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">defaultImg</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#89DDFF;font-style:italic;">else</span></span>
<span class="line"><span style="color:#F07178;">      </span><span style="color:#BABED8;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">localImg</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#82AAFF;">watch</span><span style="color:#BABED8;">(</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> aspectRatio</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">,</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">setAspectRatio</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">aspectRatio</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">},</span></span>
<span class="line"><span style="color:#BABED8;">)</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">download</span><span style="color:#89DDFF;">()</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">canvas</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">getCroppedCanvas</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">img</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">Image</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">img</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">src</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">canvas</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">toDataURL</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">image/png</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">link</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">document</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">createElement</span><span style="color:#F07178;">(</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">a</span><span style="color:#89DDFF;">&#39;</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">link</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">href</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">img</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">src</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">link</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">download</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">cropped.png</span><span style="color:#89DDFF;">&#39;</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">link</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">click</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"></span>
<span class="line"><span style="color:#C792EA;">async</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">function</span><span style="color:#BABED8;"> </span><span style="color:#82AAFF;">chooseImage</span><span style="color:#89DDFF;">(</span><span style="color:#BABED8;font-style:italic;">e</span><span style="color:#89DDFF;">)</span><span style="color:#BABED8;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">file</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">e</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">target</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">files</span><span style="color:#F07178;">[</span><span style="color:#F78C6C;">0</span><span style="color:#F07178;">]</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#C792EA;">const</span><span style="color:#F07178;"> </span><span style="color:#BABED8;">reader</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">new</span><span style="color:#F07178;"> </span><span style="color:#82AAFF;">FileReader</span><span style="color:#F07178;">()</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">reader</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">readAsDataURL</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">file</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#BABED8;">reader</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">onload</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">=</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">()</span><span style="color:#F07178;"> </span><span style="color:#C792EA;">=&gt;</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;">{</span></span>
<span class="line"><span style="color:#F07178;">    </span><span style="color:#BABED8;">cropper</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">value</span><span style="color:#89DDFF;">.</span><span style="color:#82AAFF;">replace</span><span style="color:#F07178;">(</span><span style="color:#BABED8;">reader</span><span style="color:#89DDFF;">.</span><span style="color:#BABED8;">result</span><span style="color:#F07178;"> </span><span style="color:#89DDFF;font-style:italic;">as</span><span style="color:#F07178;"> </span><span style="color:#FFCB6B;">string</span><span style="color:#F07178;">)</span></span>
<span class="line"><span style="color:#F07178;">  </span><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">}</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">script</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mt-20</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">flex flex-col mb-20</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">w-full flex items-center justify-between</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">v-model</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">defaultImg</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">flex-1 mr-10 border border-primary border-solid rounded-4 py-3.8 px-9</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">text</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">placeholder</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">输入图片地址或上传图片</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn border border-primary</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fileInput.click</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">          </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">input</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">fileInput</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">display-none</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">type</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">file</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">accept</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image/*</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@change</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">chooseImage</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;"> 上传</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">mt-20 flex items-center</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn border border-primary border-solid mr-10</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">!aspectRatio ? &#39;&#39; : &#39;!bg-transparent&#39;</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aspectRatio = NaN</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">          默认</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn border border-primary border-solid mr-10</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">:class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aspectRatio === 16 / 9 ? &#39;&#39; : &#39;!bg-transparent&#39;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aspectRatio = 16 / 9</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">          16 / 9</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn border border-primary border-solid mr-10</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">:class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aspectRatio === 4 / 3 ? &#39;&#39; : &#39;!bg-transparent&#39;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aspectRatio = 4 / 3</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">          4 / 3</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn border border-primary border-solid mr-10</span><span style="color:#89DDFF;">&quot;</span></span>
<span class="line"><span style="color:#89DDFF;">          </span><span style="color:#C792EA;">:class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aspectRatio === 1 / 1 ? &#39;&#39; : &#39;!bg-transparent&#39;</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">aspectRatio = 1 / 1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">          1 / 1</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">flex-1</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">        </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">class</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">btn</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">@click</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">download</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;">&gt;</span><span style="color:#BABED8;">下载</span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">button</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">      </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#BABED8;">    </span><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">img</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">ref</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">image</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> </span><span style="color:#C792EA;">:src</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&quot;</span><span style="color:#C3E88D;">imgSrc</span><span style="color:#89DDFF;">&quot;</span><span style="color:#89DDFF;"> /&gt;</span></span>
<span class="line"><span style="color:#BABED8;">  </span><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">div</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"><span style="color:#89DDFF;">&lt;/</span><span style="color:#F07178;">template</span><span style="color:#89DDFF;">&gt;</span></span>
<span class="line"></span>
<span class="line"><span style="color:#89DDFF;">&lt;</span><span style="color:#F07178;">style</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">lang</span><span style="color:#89DDFF;">=</span><span style="color:#89DDFF;">&#39;</span><span style="color:#C3E88D;">scss</span><span style="color:#89DDFF;">&#39;</span><span style="color:#BABED8;"> </span><span style="color:#C792EA;">scoped</span><span style="color:#89DDFF;">&gt;&lt;/</span><span style="color:#F07178;">style</span><span style="color:#89DDFF;">&gt;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br><span class="line-number">47</span><br><span class="line-number">48</span><br><span class="line-number">49</span><br><span class="line-number">50</span><br><span class="line-number">51</span><br><span class="line-number">52</span><br><span class="line-number">53</span><br><span class="line-number">54</span><br><span class="line-number">55</span><br><span class="line-number">56</span><br><span class="line-number">57</span><br><span class="line-number">58</span><br><span class="line-number">59</span><br><span class="line-number">60</span><br><span class="line-number">61</span><br><span class="line-number">62</span><br><span class="line-number">63</span><br><span class="line-number">64</span><br><span class="line-number">65</span><br><span class="line-number">66</span><br><span class="line-number">67</span><br><span class="line-number">68</span><br><span class="line-number">69</span><br><span class="line-number">70</span><br><span class="line-number">71</span><br><span class="line-number">72</span><br><span class="line-number">73</span><br><span class="line-number">74</span><br><span class="line-number">75</span><br><span class="line-number">76</span><br><span class="line-number">77</span><br><span class="line-number">78</span><br><span class="line-number">79</span><br><span class="line-number">80</span><br><span class="line-number">81</span><br><span class="line-number">82</span><br><span class="line-number">83</span><br><span class="line-number">84</span><br><span class="line-number">85</span><br><span class="line-number">86</span><br><span class="line-number">87</span><br><span class="line-number">88</span><br><span class="line-number">89</span><br><span class="line-number">90</span><br><span class="line-number">91</span><br><span class="line-number">92</span><br><span class="line-number">93</span><br><span class="line-number">94</span><br><span class="line-number">95</span><br><span class="line-number">96</span><br><span class="line-number">97</span><br><span class="line-number">98</span><br><span class="line-number">99</span><br><span class="line-number">100</span><br><span class="line-number">101</span><br><span class="line-number">102</span><br><span class="line-number">103</span><br><span class="line-number">104</span><br><span class="line-number">105</span><br><span class="line-number">106</span><br><span class="line-number">107</span><br><span class="line-number">108</span><br><span class="line-number">109</span><br><span class="line-number">110</span><br><span class="line-number">111</span><br><span class="line-number">112</span><br></div></div>`,2),_n=JSON.parse('{"title":"预览效果","description":"","frontmatter":{},"headers":[],"relativePath":"src/fun/frontend/cropper.md","filePath":"src/fun/frontend/cropper.md","lastUpdated":1700275617000}'),On={name:"src/fun/frontend/cropper.md"},Sn=Object.assign(On,{setup(t){return(s,n)=>(ta(),ea("div",null,[Tn,Na(Mn),Nn]))}});export{_n as __pageData,Sn as default};
